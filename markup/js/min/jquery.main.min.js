function initCustomForms(){jcf.replaceAll()}function initCarousel(){jQuery(".carousel").scrollGallery({mask:".mask",slider:".slideset",slides:".slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",pagerLinks:".pagination li",maskAutoSize:!0,autoRotation:!0,switchTime:3e3,animSpeed:500,step:1}),jQuery(".slider").scrollGallery({mask:".mask",slider:".slideset",slides:".slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",pagerLinks:".pagination li",maskAutoSize:!0,autoRotation:!0,switchTime:3e3,animSpeed:500,step:1}),jQuery(".slideshow").scrollGallery({mask:".mask",slider:".slideset",slides:".slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:".pagination",stretchSlideToMask:!0,maskAutoSize:!0,autoRotation:!0,switchTime:3e3,animSpeed:500,step:1})}function initAnchors(){new SmoothScroll({anchorLinks:'a[href^="#"].down',activeClasses:"link"})}function initSameHeight(){jQuery(".slider").sameHeight({elements:".holder",flexible:!0,multiLine:!0}),jQuery(".box-area").sameHeight({elements:".box",flexible:!0,multiLine:!0})}jQuery(function(){initCustomForms(),initAnchors(),initCarousel(),initSameHeight()}),function(t){function e(e){this.options=t.extend({mask:"div.mask",slider:">*",slides:">*",activeClass:"active",disabledClass:"disabled",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:!1,pagerList:"<ul>",pagerListItem:'<li><a href="#"></a></li>',pagerListItemText:"a",pagerLinks:".pagination li",currentNumber:"span.current-num",totalNumber:"span.total-num",btnPlay:".btn-play",btnPause:".btn-pause",btnPlayPause:".btn-play-pause",galleryReadyClass:"gallery-js-ready",autorotationActiveClass:"autorotation-active",autorotationDisabledClass:"autorotation-disabled",stretchSlideToMask:!1,circularRotation:!0,disableWhileAnimating:!1,autoRotation:!1,pauseOnHover:i?!1:!0,maskAutoSize:!1,switchTime:4e3,animSpeed:600,event:"click",swipeThreshold:15,handleTouch:!0,vertical:!1,useTranslate3D:!1,step:!1},e),this.init()}e.prototype={init:function(){this.options.holder&&(this.findElements(),this.attachEvents(),this.refreshPosition(),this.refreshState(!0),this.resumeRotation(),this.makeCallback("onInit",this))},findElements:function(){if(this.fullSizeFunction=this.options.vertical?"outerHeight":"outerWidth",this.innerSizeFunction=this.options.vertical?"height":"width",this.slideSizeFunction="outerHeight",this.maskSizeProperty="height",this.animProperty=this.options.vertical?"marginTop":"marginLeft",this.gallery=t(this.options.holder).addClass(this.options.galleryReadyClass),this.mask=this.gallery.find(this.options.mask),this.slider=this.mask.find(this.options.slider),this.slides=this.slider.find(this.options.slides),this.btnPrev=this.gallery.find(this.options.btnPrev),this.btnNext=this.gallery.find(this.options.btnNext),this.currentStep=0,this.stepsCount=0,this.options.step===!1){var e=this.slides.filter("."+this.options.activeClass);e.length&&(this.currentStep=this.slides.index(e))}this.calculateOffsets(),"string"==typeof this.options.generatePagination?(this.pagerLinks=t(),this.buildPagination()):(this.pagerLinks=this.gallery.find(this.options.pagerLinks),this.attachPaginationEvents()),this.btnPlay=this.gallery.find(this.options.btnPlay),this.btnPause=this.gallery.find(this.options.btnPause),this.btnPlayPause=this.gallery.find(this.options.btnPlayPause),this.curNum=this.gallery.find(this.options.currentNumber),this.allNum=this.gallery.find(this.options.totalNumber)},attachEvents:function(){var e=this;this.bindHandlers(["onWindowResize"]),t(window).bind("load resize orientationchange",this.onWindowResize),this.btnPrev.length&&(this.prevSlideHandler=function(t){t.preventDefault(),e.prevSlide()},this.btnPrev.bind(this.options.event,this.prevSlideHandler)),this.btnNext.length&&(this.nextSlideHandler=function(t){t.preventDefault(),e.nextSlide()},this.btnNext.bind(this.options.event,this.nextSlideHandler)),this.options.pauseOnHover&&!i&&(this.hoverHandler=function(){e.options.autoRotation&&(e.galleryHover=!0,e.pauseRotation())},this.leaveHandler=function(){e.options.autoRotation&&(e.galleryHover=!1,e.resumeRotation())},this.gallery.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler})),this.btnPlay.length&&(this.btnPlayHandler=function(t){t.preventDefault(),e.startRotation()},this.btnPlay.bind(this.options.event,this.btnPlayHandler)),this.btnPause.length&&(this.btnPauseHandler=function(t){t.preventDefault(),e.stopRotation()},this.btnPause.bind(this.options.event,this.btnPauseHandler)),this.btnPlayPause.length&&(this.btnPlayPauseHandler=function(t){t.preventDefault(),e.gallery.hasClass(e.options.autorotationActiveClass)?e.stopRotation():e.startRotation()},this.btnPlayPause.bind(this.options.event,this.btnPlayPauseHandler)),i&&this.options.useTranslate3D&&this.slider.css({"-webkit-transform":"translate3d(0px, 0px, 0px)"}),i&&this.options.handleTouch&&window.Hammer&&this.mask.length&&(this.swipeHandler=new Hammer.Manager(this.mask[0]),this.swipeHandler.add(new Hammer.Pan({direction:e.options.vertical?Hammer.DIRECTION_VERTICAL:Hammer.DIRECTION_HORIZONTAL,threshold:e.options.swipeThreshold})),this.swipeHandler.on("panstart",function(){e.galleryAnimating?e.swipeHandler.stop():(e.pauseRotation(),e.originalOffset=parseFloat(e.slider.css(e.animProperty)))}).on("panmove",function(t){var i=e.originalOffset+t[e.options.vertical?"deltaY":"deltaX"];i=Math.max(Math.min(0,i),e.maxOffset),e.slider.css(e.animProperty,i)}).on("panend",function(t){e.resumeRotation(),t.distance>e.options.swipeThreshold?t.offsetDirection===Hammer.DIRECTION_RIGHT||t.offsetDirection===Hammer.DIRECTION_DOWN?e.nextSlide():e.prevSlide():e.switchSlide()}))},onWindowResize:function(){this.galleryAnimating?this.resizeQueue=!0:(this.calculateOffsets(),this.refreshPosition(),this.buildPagination(),this.refreshState(),this.resizeQueue=!1)},refreshPosition:function(){this.currentStep=Math.min(this.currentStep,this.stepsCount-1),this.tmpProps={},this.tmpProps[this.animProperty]=this.getStepOffset(),this.slider.stop().css(this.tmpProps)},calculateOffsets:function(){var e,i,s=this;if(this.options.stretchSlideToMask){var n={};n[this.innerSizeFunction]=this.mask[this.innerSizeFunction](),this.slides.css(n)}if(this.maskSize=this.mask[this.innerSizeFunction](),this.sumSize=this.getSumSize(),this.maxOffset=this.maskSize-this.sumSize,this.options.vertical&&this.options.maskAutoSize){this.options.step=1,this.stepsCount=this.slides.length,this.stepOffsets=[0],e=0;for(var o=0;o<this.slides.length;o++)e-=t(this.slides[o])[this.fullSizeFunction](!0),this.stepOffsets.push(e);return this.maxOffset=e,void 0}if("number"==typeof this.options.step&&this.options.step>0)for(this.slideDimensions=[],this.slides.each(t.proxy(function(e,i){s.slideDimensions.push(t(i)[s.fullSizeFunction](!0))},this)),this.stepOffsets=[0],this.stepsCount=1,e=i=0;e>this.maxOffset;)e-=this.getSlideSize(i,i+this.options.step),i+=this.options.step,this.stepOffsets.push(Math.max(e,this.maxOffset)),this.stepsCount++;else for(this.stepSize=this.maskSize,this.stepsCount=1,e=0;e>this.maxOffset;)e-=this.stepSize,this.stepsCount++},getSumSize:function(){var e=0;return this.slides.each(t.proxy(function(i,s){e+=t(s)[this.fullSizeFunction](!0)},this)),this.slider.css(this.innerSizeFunction,e),e},getStepOffset:function(t){return t=t||this.currentStep,"number"==typeof this.options.step?this.stepOffsets[this.currentStep]:Math.min(0,Math.max(-this.currentStep*this.stepSize,this.maxOffset))},getSlideSize:function(t,e){for(var i=0,s=t;s<Math.min(e,this.slideDimensions.length);s++)i+=this.slideDimensions[s];return i},buildPagination:function(){if("string"==typeof this.options.generatePagination&&(this.pagerHolder||(this.pagerHolder=this.gallery.find(this.options.generatePagination)),this.pagerHolder.length&&this.oldStepsCount!=this.stepsCount)){this.oldStepsCount=this.stepsCount,this.pagerHolder.empty(),this.pagerList=t(this.options.pagerList).appendTo(this.pagerHolder);for(var e=0;e<this.stepsCount;e++)t(this.options.pagerListItem).appendTo(this.pagerList).find(this.options.pagerListItemText).text(e+1);this.pagerLinks=this.pagerList.children(),this.attachPaginationEvents()}},attachPaginationEvents:function(){var t=this;this.pagerLinksHandler=function(e){e.preventDefault(),t.numSlide(t.pagerLinks.index(e.currentTarget))},this.pagerLinks.bind(this.options.event,this.pagerLinksHandler)},prevSlide:function(){this.options.disableWhileAnimating&&this.galleryAnimating||(this.currentStep>0?(this.currentStep--,this.switchSlide()):this.options.circularRotation&&(this.currentStep=this.stepsCount-1,this.switchSlide()))},nextSlide:function(t){this.options.disableWhileAnimating&&this.galleryAnimating||(this.currentStep<this.stepsCount-1?(this.currentStep++,this.switchSlide()):(this.options.circularRotation||t===!0)&&(this.currentStep=0,this.switchSlide()))},numSlide:function(t){this.currentStep!=t&&(this.currentStep=t,this.switchSlide())},switchSlide:function(){var t=this;this.galleryAnimating=!0,this.tmpProps={},this.tmpProps[this.animProperty]=this.getStepOffset(),this.slider.stop().animate(this.tmpProps,{duration:this.options.animSpeed,complete:function(){t.galleryAnimating=!1,t.resizeQueue&&t.onWindowResize(),t.makeCallback("onChange",t),t.autoRotate()}}),this.refreshState(),this.makeCallback("onBeforeChange",this)},refreshState:function(t){(1===this.options.step||this.stepsCount===this.slides.length)&&this.slides.removeClass(this.options.activeClass).eq(this.currentStep).addClass(this.options.activeClass),this.pagerLinks.removeClass(this.options.activeClass).eq(this.currentStep).addClass(this.options.activeClass),this.curNum.html(this.currentStep+1),this.allNum.html(this.stepsCount),this.options.maskAutoSize&&"number"==typeof this.options.step&&(this.tmpProps={},this.tmpProps[this.maskSizeProperty]=this.slides.eq(Math.min(this.currentStep,this.slides.length-1))[this.slideSizeFunction](!0),this.mask.stop()[t?"css":"animate"](this.tmpProps)),this.options.circularRotation||(this.btnPrev.add(this.btnNext).removeClass(this.options.disabledClass),0===this.currentStep&&this.btnPrev.addClass(this.options.disabledClass),this.currentStep===this.stepsCount-1&&this.btnNext.addClass(this.options.disabledClass)),this.gallery.toggleClass("not-enough-slides",this.sumSize<=this.maskSize)},startRotation:function(){this.options.autoRotation=!0,this.galleryHover=!1,this.autoRotationStopped=!1,this.resumeRotation()},stopRotation:function(){this.galleryHover=!0,this.autoRotationStopped=!0,this.pauseRotation()},pauseRotation:function(){this.gallery.addClass(this.options.autorotationDisabledClass),this.gallery.removeClass(this.options.autorotationActiveClass),clearTimeout(this.timer)},resumeRotation:function(){this.autoRotationStopped||(this.gallery.addClass(this.options.autorotationActiveClass),this.gallery.removeClass(this.options.autorotationDisabledClass),this.autoRotate())},autoRotate:function(){var t=this;clearTimeout(this.timer),!this.options.autoRotation||this.galleryHover||this.autoRotationStopped?this.pauseRotation():this.timer=setTimeout(function(){t.nextSlide(!0)},this.options.switchTime)},bindHandlers:function(e){var i=this;t.each(e,function(t,e){var s=i[e];i[e]=function(){return s.apply(i,arguments)}})},makeCallback:function(t){if("function"==typeof this.options[t]){var e=Array.prototype.slice.call(arguments);e.shift(),this.options[t].apply(this,e)}},destroy:function(){t(window).unbind("load resize orientationchange",this.onWindowResize),this.btnPrev.unbind(this.options.event,this.prevSlideHandler),this.btnNext.unbind(this.options.event,this.nextSlideHandler),this.pagerLinks.unbind(this.options.event,this.pagerLinksHandler),this.gallery.unbind("mouseenter",this.hoverHandler),this.gallery.unbind("mouseleave",this.leaveHandler),this.stopRotation(),this.btnPlay.unbind(this.options.event,this.btnPlayHandler),this.btnPause.unbind(this.options.event,this.btnPauseHandler),this.btnPlayPause.unbind(this.options.event,this.btnPlayPauseHandler),this.swipeHandler&&this.swipeHandler.destroy();var e=[this.options.galleryReadyClass,this.options.autorotationActiveClass,this.options.autorotationDisabledClass];this.gallery.removeClass(e.join(" ")),this.slider.add(this.slides).removeAttr("style"),"string"==typeof this.options.generatePagination&&this.pagerHolder.empty()}};var i=/Windows Phone/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;t.fn.scrollGallery=function(i){return this.each(function(){t(this).data("ScrollGallery",new e(t.extend(i,{holder:this})))})}}(jQuery),function(t,e){function i(e,i,s){var a;document.body&&(i="number"==typeof i?{duration:i}:i||{},n=n||t("html, body"),a=i.container||n,"number"==typeof e&&(e={top:e}),o&&r&&o.off("mousewheel",r),i.wheelBehavior&&"none"!==i.wheelBehavior&&(r=function(t){"stop"===i.wheelBehavior?(a.off("mousewheel",r),a.stop()):"ignore"===i.wheelBehavior&&t.preventDefault()},o=a.on("mousewheel",r)),a.stop().animate({scrollLeft:e.left,scrollTop:e.top},i.duration,function(){r&&a.off("mousewheel",r),t.isFunction(s)&&s()}))}function s(e){this.options=t.extend({anchorLinks:'a[href^="#"]',container:null,extraOffset:null,activeClasses:null,easing:"swing",animMode:"duration",animDuration:800,animSpeed:1500,anchorActiveClass:"anchor-active",sectionActiveClass:"section-active",wheelBehavior:"stop",useNativeAnchorScrolling:!1},e),this.init()}{var n,o,r,a=t(window);"onwheel"in document||document.documentMode>=9?"wheel":"mousewheel DOMMouseScroll"}s.prototype={init:function(){this.initStructure(),this.attachEvents()},initStructure:function(){this.container=this.options.container?t(this.options.container):t("html,body"),this.scrollContainer=this.options.container?this.container:a,this.anchorLinks=t(this.options.anchorLinks)},getAnchorTarget:function(e){var i=t(e).attr("href");return t(i.length>1?i:"html")},getTargetOffset:function(t){var e=t.offset().top;return this.options.container&&(e-=this.container.offset().top-this.container.prop("scrollTop")),"number"==typeof this.options.extraOffset?e-=this.options.extraOffset:"function"==typeof this.options.extraOffset&&(e-=this.options.extraOffset(t)),{top:e}},attachEvents:function(){var e=this;this.options.activeClasses&&(this.anchorData=[],this.anchorLinks.each(function(){var i,s=jQuery(this),n=e.getAnchorTarget(s);t.each(e.anchorData,function(t,e){e.block[0]===n[0]&&(i=e)}),i?i.link=i.link.add(s):e.anchorData.push({link:s,block:n})}),this.resizeHandler=function(){e.recalculateOffsets()},this.scrollHandler=function(){e.refreshActiveClass()},this.recalculateOffsets(),this.scrollContainer.on("scroll",this.scrollHandler),a.on("resize",this.resizeHandler)),this.clickHandler=function(t){e.onClick(t)},this.options.useNativeAnchorScrolling||this.anchorLinks.on("click",this.clickHandler)},recalculateOffsets:function(){var e=this;t.each(this.anchorData,function(t,i){i.offset=e.getTargetOffset(i.block),i.height=i.block.outerHeight()}),this.refreshActiveClass()},refreshActiveClass:function(){function e(t,e,s){t.toggleClass(i.options.anchorActiveClass,s),e.toggleClass(i.options.sectionActiveClass,s)}var i=this,s=!1,n=(a.height(),this.container.prop("scrollHeight")),o=this.scrollContainer.height(),r=this.options.container?this.container.prop("scrollTop"):a.scrollTop();return this.options.customScrollHandler?(this.options.customScrollHandler.call(this,r,this.anchorData),void 0):(this.anchorData.sort(function(t,e){return t.offset.top-e.offset.top}),t.each(this.anchorData,function(t){var a=i.anchorData.length-t-1,h=i.anchorData[a],l="parent"===i.options.activeClasses?h.link.parent():h.link;r>=n-o?a===i.anchorData.length-1?e(l,h.block,!0):e(l,h.block,!1):!s&&(r>=h.offset.top-1||0===a)?(s=!0,e(l,h.block,!0)):e(l,h.block,!1)}),void 0)},calculateScrollDuration:function(t){var e;return"speed"===this.options.animMode?(e=Math.abs(this.scrollContainer.scrollTop()-t.top),e/this.options.animSpeed*1e3):this.options.animDuration},onClick:function(t){var e=this.getAnchorTarget(t.currentTarget),s=this.getTargetOffset(e);t.preventDefault(),i(s,{container:this.container,wheelBehavior:this.options.wheelBehavior,duration:this.calculateScrollDuration(s)})},destroy:function(){this.options.activeClasses&&(a.off("resize",this.resizeHandler),this.scrollContainer.off("scroll",this.scrollHandler)),this.anchorLinks.off("click",this.clickHandler)}},t.extend(s,{scrollTo:function(t,e,s){i(t,e,s)}}),e.SmoothScroll=s}(jQuery,this),function(t){function e(e,o){var r,a=t(),h=0,l=e.eq(0).offset().top;e.each(function(){var e=t(this);e.offset().top===l?a=a.add(this):(r=i(a),h=Math.max(h,s(a,r,o)),a=e,l=e.offset().top)}),a.length&&(r=i(a),h=Math.max(h,s(a,r,o))),o.biggestHeight&&e.css(o.useMinHeight&&n?"minHeight":"height",h)}function i(e){var i=0;return e.each(function(){i=Math.max(i,t(this).outerHeight())}),i}function s(e,i,s){var o,r="number"==typeof i?i:i.height();return e.removeClass(s.leftEdgeClass).removeClass(s.rightEdgeClass).each(function(){var e=t(this),a=0,h="border-box"===e.css("boxSizing")||"border-box"===e.css("-moz-box-sizing")||"border-box"===e.css("-webkit-box-sizing");"number"!=typeof i&&e.parents().each(function(){var e=t(this);return i.is(this)?!1:(a+=e.outerHeight()-e.height(),void 0)}),o=r-a,o-=h?0:e.outerHeight()-e.height(),o>0&&e.css(s.useMinHeight&&n?"minHeight":"height",o)}),e.filter(":first").addClass(s.leftEdgeClass),e.filter(":last").addClass(s.rightEdgeClass),o}t.fn.sameHeight=function(i){var o=t.extend({skipClass:"same-height-ignore",leftEdgeClass:"same-height-left",rightEdgeClass:"same-height-right",elements:">*",flexible:!1,multiLine:!1,useMinHeight:!1,biggestHeight:!1},i);return this.each(function(){function i(){l.css(o.useMinHeight&&n?"minHeight":"height",""),o.multiLine?e(l,o):s(l,h,o)}var r,a,h=t(this),l=h.find(o.elements).not("."+o.skipClass);if(l.length){i();var c=function(){a||(a=!0,i(),clearTimeout(r),r=setTimeout(function(){i(),setTimeout(function(){a=!1},10)},100))};o.flexible&&t(window).bind("resize orientationchange fontresize",c),t(window).bind("load",c)}})};var n="undefined"!=typeof document.documentElement.style.maxHeight}(jQuery),jQuery.onFontResize=function(t){return t(function(){var e="font-resize-frame-"+Math.floor(1e3*Math.random()),i=t("<iframe>").attr("id",e).addClass("font-resize-helper");if(i.css({width:"100em",height:"10px",position:"absolute",borderWidth:0,top:"-9999px",left:"-9999px"}).appendTo("body"),window.attachEvent&&!window.addEventListener)i.bind("resize",function(){t.onFontResize.trigger(i[0].offsetWidth/100)});else{var s=i[0].contentWindow.document;s.open(),s.write('<script>window.onload = function(){var em = parent.jQuery("#'+e+'")[0];window.onresize = function(){if(parent.jQuery.onFontResize){parent.jQuery.onFontResize.trigger(em.offsetWidth / 100);}}};</script>'),s.close()}jQuery.onFontResize.initialSize=i[0].offsetWidth/100}),{trigger:function(e){t(window).trigger("fontresize",[e])}}}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.jcf=e(jQuery)}(this,function(t){"use strict";var e=[],i={optionsKey:"jcf",dataKey:"jcf-instance",rtlClass:"jcf-rtl",focusClass:"jcf-focus",pressedClass:"jcf-pressed",disabledClass:"jcf-disabled",hiddenClass:"jcf-hidden",resetAppearanceClass:"jcf-reset-appearance",unselectableClass:"jcf-unselectable"},s="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,n=/Windows Phone/.test(navigator.userAgent);i.isMobileDevice=!(!s&&!n);var o=function(){var e=t("<style>").appendTo("head"),s=e.prop("sheet")||e.prop("styleSheet"),n=function(t,e,i){s.insertRule?s.insertRule(t+"{"+e+"}",i):s.addRule(t,e,i)};n("."+i.hiddenClass,"position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none"),n("."+i.rtlClass+"."+i.hiddenClass,"right:-9999px !important; left: auto !important"),n("."+i.unselectableClass,"-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;"),n("."+i.resetAppearanceClass,"background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);");var o=t("html"),r=t("body");("rtl"===o.css("direction")||"rtl"===r.css("direction"))&&o.addClass(i.rtlClass),o.on("reset",function(){setTimeout(function(){a.refreshAll()},0)}),i.styleSheetCreated=!0};!function(){var e,i=navigator.pointerEnabled||navigator.msPointerEnabled,s="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,n={},o="jcf-";e=i?{pointerover:navigator.pointerEnabled?"pointerover":"MSPointerOver",pointerdown:navigator.pointerEnabled?"pointerdown":"MSPointerDown",pointermove:navigator.pointerEnabled?"pointermove":"MSPointerMove",pointerup:navigator.pointerEnabled?"pointerup":"MSPointerUp"}:{pointerover:"mouseover",pointerdown:"mousedown"+(s?" touchstart":""),pointermove:"mousemove"+(s?" touchmove":""),pointerup:"mouseup"+(s?" touchend":"")},t.each(e,function(e,i){t.each(i.split(" "),function(t,i){n[i]=e})}),t.each(e,function(e,i){i=i.split(" "),t.event.special[o+e]={setup:function(){var e=this;t.each(i,function(t,i){e.addEventListener?e.addEventListener(i,h,!1):e["on"+i]=h})},teardown:function(){var e=this;t.each(i,function(t,i){e.addEventListener?e.removeEventListener(i,h,!1):e["on"+i]=null})}}});var r=null,a=function(t){var e=Math.abs(t.pageX-r.x),i=Math.abs(t.pageY-r.y),s=25;return s>=e&&s>=i?!0:void 0},h=function(e){var i=e||window.event,s=null,h=n[i.type];if(e=t.event.fix(i),e.type=o+h,i.pointerType)switch(i.pointerType){case 2:e.pointerType="touch";break;case 3:e.pointerType="pen";break;case 4:e.pointerType="mouse";break;default:e.pointerType=i.pointerType}else e.pointerType=i.type.substr(0,5);return e.pageX||e.pageY||(s=i.changedTouches?i.changedTouches[0]:i,e.pageX=s.pageX,e.pageY=s.pageY),"touchend"===i.type&&(r={x:e.pageX,y:e.pageY}),"mouse"===e.pointerType&&r&&a(e)?void 0:(t.event.dispatch||t.event.handle).call(this,e)}}(),function(){var e=("onwheel"in document||document.documentMode>=9?"wheel":"mousewheel DOMMouseScroll").split(" "),i="jcf-mousewheel";t.event.special[i]={setup:function(){var i=this;t.each(e,function(t,e){i.addEventListener?i.addEventListener(e,s,!1):i["on"+e]=s})},teardown:function(){var i=this;t.each(e,function(t,e){i.addEventListener?i.removeEventListener(e,s,!1):i["on"+e]=null})}};var s=function(e){var s=e||window.event;if(e=t.event.fix(s),e.type=i,"detail"in s&&(e.deltaY=-s.detail),"wheelDelta"in s&&(e.deltaY=-s.wheelDelta),"wheelDeltaY"in s&&(e.deltaY=-s.wheelDeltaY),"wheelDeltaX"in s&&(e.deltaX=-s.wheelDeltaX),"deltaY"in s&&(e.deltaY=s.deltaY),"deltaX"in s&&(e.deltaX=s.deltaX),e.delta=e.deltaY||e.deltaX,1===s.deltaMode){var n=16;e.delta*=n,e.deltaY*=n,e.deltaX*=n}return(t.event.dispatch||t.event.handle).call(this,e)}}();var r={fireNativeEvent:function(e,i){t(e).each(function(){var t,e=this;e.dispatchEvent?(t=document.createEvent("HTMLEvents"),t.initEvent(i,!0,!0),e.dispatchEvent(t)):document.createEventObject&&(t=document.createEventObject(),t.target=e,e.fireEvent("on"+i,t))})},bindHandlers:function(){var e=this;t.each(e,function(i,s){0===i.indexOf("on")&&t.isFunction(s)&&(e[i]=function(){return s.apply(e,arguments)})})}},a={modules:{},getOptions:function(){return t.extend({},i)},setOptions:function(e,s){arguments.length>1?this.modules[e]&&t.extend(this.modules[e].prototype.options,s):t.extend(i,e)},addModule:function(s){var n=function(s){s.element.data(i.dataKey,this),e.push(this),this.options=t.extend({},i,this.options,s.element.data(i.optionsKey),s),this.bindHandlers(),this.init.apply(this,arguments)};n.prototype=s,t.extend(s,r),s.plugins&&t.each(s.plugins,function(e,i){t.extend(i.prototype,r)});var o=n.prototype.destroy;n.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var t=e.length-1;t>=0;t--)if(e[t]===this){e.splice(t,1);break}o&&o.apply(this,arguments)},this.modules[s.name]=n},getInstance:function(e){return t(e).data(i.dataKey)},replace:function(e,s,n){var r,a=this;return i.styleSheetCreated||o(),t(e).each(function(){var e,o=t(this);r=o.data(i.dataKey),r?r.refresh():(s||t.each(a.modules,function(t,e){return e.prototype.matchElement.call(e.prototype,o)?(s=t,!1):void 0}),s&&(e=t.extend({element:o},n),r=new a.modules[s](e)))}),r},refresh:function(e){t(e).each(function(){var e=t(this).data(i.dataKey);e&&e.refresh()})},destroy:function(e){t(e).each(function(){var e=t(this).data(i.dataKey);e&&e.destroy()})},replaceAll:function(e){var i=this;t.each(this.modules,function(s,n){t(n.prototype.selector,e).each(function(){i.replace(this,s)})})},refreshAll:function(s){if(s)t.each(this.modules,function(e,n){t(n.prototype.selector,s).each(function(){var e=t(this).data(i.dataKey);e&&e.refresh()})});else for(var n=e.length-1;n>=0;n--)e[n].refresh()},destroyAll:function(s){if(s)t.each(this.modules,function(e,n){t(n.prototype.selector,s).each(function(e,s){var n=t(s).data(i.dataKey);n&&n.destroy()})});else for(;e.length;)e[0].destroy()}};return a}),function(t,e){"use strict";function i(e){this.options=t.extend({holder:null,vertical:!0,inactiveClass:"jcf-inactive",verticalClass:"jcf-scrollbar-vertical",horizontalClass:"jcf-scrollbar-horizontal",scrollbarStructure:'<div class="jcf-scrollbar"><div class="jcf-scrollbar-dec"></div><div class="jcf-scrollbar-slider"><div class="jcf-scrollbar-handle"></div></div><div class="jcf-scrollbar-inc"></div></div>',btnDecSelector:".jcf-scrollbar-dec",btnIncSelector:".jcf-scrollbar-inc",sliderSelector:".jcf-scrollbar-slider",handleSelector:".jcf-scrollbar-handle",scrollInterval:10,scrollStep:5},e),this.init()}jcf.addModule({name:"Scrollable",selector:".jcf-scrollable",plugins:{ScrollBar:i},options:{mouseWheelStep:150,handleResize:!0,alwaysShowScrollbars:!1,alwaysPreventMouseWheel:!1,scrollAreaStructure:'<div class="jcf-scrollable-wrapper"></div>'},matchElement:function(t){return t.is(".jcf-scrollable")},init:function(){this.initStructure(),this.attachEvents(),this.rebuildScrollbars()},initStructure:function(){this.doc=t(document),this.win=t(e),this.realElement=t(this.options.element),this.scrollWrapper=t(this.options.scrollAreaStructure).insertAfter(this.realElement),this.scrollWrapper.css("position","relative"),this.realElement.css("overflow","hidden"),this.vBarEdge=0},attachEvents:function(){var t=this;this.vBar=new i({holder:this.scrollWrapper,vertical:!0,onScroll:function(e){t.realElement.scrollTop(e)}}),this.hBar=new i({holder:this.scrollWrapper,vertical:!1,onScroll:function(e){t.realElement.scrollLeft(e)}}),this.realElement.on("scroll",this.onScroll),this.options.handleResize&&this.win.on("resize orientationchange load",this.onResize),this.realElement.on("jcf-mousewheel",this.onMouseWheel),this.realElement.on("jcf-pointerdown",this.onTouchBody)},onScroll:function(){this.redrawScrollbars()},onResize:function(){t(document.activeElement).is(":input")||this.rebuildScrollbars()},onTouchBody:function(t){"touch"===t.pointerType&&(this.touchData={scrollTop:this.realElement.scrollTop(),scrollLeft:this.realElement.scrollLeft(),left:t.pageX,top:t.pageY},this.doc.on({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}))},onMoveBody:function(t){var e,i,s=this.verticalScrollActive,n=this.horizontalScrollActive;"touch"===t.pointerType&&(e=this.touchData.scrollTop-t.pageY+this.touchData.top,i=this.touchData.scrollLeft-t.pageX+this.touchData.left,this.verticalScrollActive&&(0>e||e>this.vBar.maxValue)&&(s=!1),this.horizontalScrollActive&&(0>i||i>this.hBar.maxValue)&&(n=!1),this.realElement.scrollTop(e),this.realElement.scrollLeft(i),s||n?t.preventDefault():this.onReleaseBody(t))},onReleaseBody:function(t){"touch"===t.pointerType&&(delete this.touchData,this.doc.off({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}))},onMouseWheel:function(t){var e,i,s,n=this.realElement.scrollTop(),o=this.realElement.scrollLeft(),r=this.realElement.prop("scrollHeight")-this.embeddedDimensions.innerHeight,a=this.realElement.prop("scrollWidth")-this.embeddedDimensions.innerWidth;(this.options.alwaysPreventMouseWheel||(this.verticalScrollActive&&t.deltaY&&(0>=n&&t.deltaY<0||n>=r&&t.deltaY>0||(s=!0)),this.horizontalScrollActive&&t.deltaX&&(0>=o&&t.deltaX<0||o>=a&&t.deltaX>0||(s=!0)),this.verticalScrollActive||this.horizontalScrollActive))&&(s||this.options.alwaysPreventMouseWheel)&&(t.preventDefault(),e=t.deltaX/100*this.options.mouseWheelStep,i=t.deltaY/100*this.options.mouseWheelStep,this.realElement.scrollTop(n+i),this.realElement.scrollLeft(o+e))},setScrollBarEdge:function(t){this.vBarEdge=t||0,this.redrawScrollbars()},saveElementDimensions:function(){return this.savedDimensions={top:this.realElement.width(),left:this.realElement.height()},this},restoreElementDimensions:function(){return this.savedDimensions&&this.realElement.css({width:this.savedDimensions.width,height:this.savedDimensions.height}),this},saveScrollOffsets:function(){return this.savedOffsets={top:this.realElement.scrollTop(),left:this.realElement.scrollLeft()},this},restoreScrollOffsets:function(){return this.savedOffsets&&(this.realElement.scrollTop(this.savedOffsets.top),this.realElement.scrollLeft(this.savedOffsets.left)),this},getContainerDimensions:function(){var t,e,i,s;return this.isModifiedStyles?t={width:this.realElement.innerWidth()+this.vBar.getThickness(),height:this.realElement.innerHeight()+this.hBar.getThickness()}:(this.saveElementDimensions().saveScrollOffsets(),this.realElement.insertAfter(this.scrollWrapper),this.scrollWrapper.detach(),e=this.realElement.prop("style"),s=parseFloat(e.width),i=parseFloat(e.height),this.embeddedDimensions&&s&&i&&(this.isModifiedStyles|=s!==this.embeddedDimensions.width||i!==this.embeddedDimensions.height,this.realElement.css({overflow:"",width:"",height:""})),t={width:this.realElement.outerWidth(),height:this.realElement.outerHeight()},this.scrollWrapper.insertAfter(this.realElement),this.realElement.css("overflow","hidden").prependTo(this.scrollWrapper),this.restoreElementDimensions().restoreScrollOffsets()),t},getEmbeddedDimensions:function(e){var i,s=this.vBar.getThickness(),n=this.hBar.getThickness(),o=this.realElement.outerWidth()-this.realElement.width(),r=this.realElement.outerHeight()-this.realElement.height();return this.options.alwaysShowScrollbars?(this.verticalScrollActive=!0,this.horizontalScrollActive=!0,i={innerWidth:e.width-s,innerHeight:e.height-n}):(this.saveElementDimensions(),this.verticalScrollActive=!1,this.horizontalScrollActive=!1,this.realElement.css({width:e.width-o,height:e.height-r}),this.horizontalScrollActive=this.realElement.prop("scrollWidth")>this.containerDimensions.width,this.verticalScrollActive=this.realElement.prop("scrollHeight")>this.containerDimensions.height,this.restoreElementDimensions(),i={innerWidth:e.width-(this.verticalScrollActive?s:0),innerHeight:e.height-(this.horizontalScrollActive?n:0)}),t.extend(i,{width:i.innerWidth-o,height:i.innerHeight-r}),i},rebuildScrollbars:function(){this.containerDimensions=this.getContainerDimensions(),this.embeddedDimensions=this.getEmbeddedDimensions(this.containerDimensions),this.scrollWrapper.css({width:this.containerDimensions.width,height:this.containerDimensions.height}),this.realElement.css({overflow:"hidden",width:this.embeddedDimensions.width,height:this.embeddedDimensions.height}),this.redrawScrollbars()},redrawScrollbars:function(){var t,e;this.verticalScrollActive?(t=this.vBarEdge?this.containerDimensions.height-this.vBarEdge:this.embeddedDimensions.innerHeight,e=this.realElement.prop("scrollHeight")-this.vBarEdge,this.vBar.show().setMaxValue(e-t).setRatio(t/e).setSize(t),this.vBar.setValue(this.realElement.scrollTop())):this.vBar.hide(),this.horizontalScrollActive?(t=this.embeddedDimensions.innerWidth,e=this.realElement.prop("scrollWidth"),e===t&&(this.horizontalScrollActive=!1),this.hBar.show().setMaxValue(e-t).setRatio(t/e).setSize(t),this.hBar.setValue(this.realElement.scrollLeft())):this.hBar.hide();var i="";this.verticalScrollActive&&this.horizontalScrollActive?i="none":this.verticalScrollActive?i="pan-x":this.horizontalScrollActive&&(i="pan-y"),this.realElement.css("touchAction",i)
},refresh:function(){this.rebuildScrollbars()},destroy:function(){this.win.off("resize orientationchange load",this.onResize),this.realElement.off({"jcf-mousewheel":this.onMouseWheel,"jcf-pointerdown":this.onTouchBody}),this.doc.off({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}),this.saveScrollOffsets(),this.vBar.destroy(),this.hBar.destroy(),this.realElement.insertAfter(this.scrollWrapper).css({touchAction:"",overflow:"",width:"",height:""}),this.scrollWrapper.remove(),this.restoreScrollOffsets()}}),t.extend(i.prototype,{init:function(){this.initStructure(),this.attachEvents()},initStructure:function(){this.doc=t(document),this.isVertical=!!this.options.vertical,this.sizeProperty=this.isVertical?"height":"width",this.fullSizeProperty=this.isVertical?"outerHeight":"outerWidth",this.invertedSizeProperty=this.isVertical?"width":"height",this.thicknessMeasureMethod="outer"+this.invertedSizeProperty.charAt(0).toUpperCase()+this.invertedSizeProperty.substr(1),this.offsetProperty=this.isVertical?"top":"left",this.offsetEventProperty=this.isVertical?"pageY":"pageX",this.value=this.options.value||0,this.maxValue=this.options.maxValue||0,this.currentSliderSize=0,this.handleSize=0,this.holder=t(this.options.holder),this.scrollbar=t(this.options.scrollbarStructure).appendTo(this.holder),this.btnDec=this.scrollbar.find(this.options.btnDecSelector),this.btnInc=this.scrollbar.find(this.options.btnIncSelector),this.slider=this.scrollbar.find(this.options.sliderSelector),this.handle=this.slider.find(this.options.handleSelector),this.scrollbar.addClass(this.isVertical?this.options.verticalClass:this.options.horizontalClass).css({touchAction:this.isVertical?"pan-x":"pan-y",position:"absolute"}),this.slider.css({position:"relative"}),this.handle.css({touchAction:"none",position:"absolute"})},attachEvents:function(){this.bindHandlers(),this.handle.on("jcf-pointerdown",this.onHandlePress),this.btnDec.add(this.btnInc).on("jcf-pointerdown",this.onButtonPress)},onHandlePress:function(t){"mouse"===t.pointerType&&t.button>1||(t.preventDefault(),this.sliderOffset=this.slider.offset()[this.offsetProperty],this.innerHandleOffset=t[this.offsetEventProperty]-this.handle.offset()[this.offsetProperty],this.doc.on("jcf-pointermove",this.onHandleDrag),this.doc.on("jcf-pointerup",this.onHandleRelease))},onHandleDrag:function(t){t.preventDefault(),this.calcOffset=t[this.offsetEventProperty]-this.sliderOffset-this.innerHandleOffset,this.setValue(this.calcOffset/(this.currentSliderSize-this.handleSize)*this.maxValue),this.triggerScrollEvent(this.value)},onHandleRelease:function(){this.doc.off("jcf-pointermove",this.onHandleDrag),this.doc.off("jcf-pointerup",this.onHandleRelease)},onButtonPress:function(t){var e;"mouse"===t.pointerType&&t.button>1||(t.preventDefault(),e=this.btnDec.is(t.currentTarget)?-1:1,this.startButtonScrolling(e),this.doc.on("jcf-pointerup",this.onButtonRelease))},onButtonRelease:function(){this.stopButtonScrolling(),this.doc.off("jcf-pointerup",this.onButtonRelease)},startButtonScrolling:function(t){var e=this;this.stopButtonScrolling(),this.scrollTimer=setInterval(function(){t>0?e.value+=e.options.scrollStep:e.value-=e.options.scrollStep,e.setValue(e.value),e.triggerScrollEvent(e.value)},this.options.scrollInterval)},stopButtonScrolling:function(){clearInterval(this.scrollTimer)},triggerScrollEvent:function(t){this.options.onScroll&&this.options.onScroll(t)},getThickness:function(){return this.scrollbar[this.thicknessMeasureMethod]()},setSize:function(t){var e=this.btnDec[this.fullSizeProperty](),i=this.btnInc[this.fullSizeProperty]();return this.currentSize=t,this.currentSliderSize=t-e-i,this.scrollbar.css(this.sizeProperty,t),this.slider.css(this.sizeProperty,this.currentSliderSize),this.currentSliderSize=this.slider[this.sizeProperty](),this.handleSize=Math.round(this.currentSliderSize*this.ratio),this.handle.css(this.sizeProperty,this.handleSize),this.handleSize=this.handle[this.fullSizeProperty](),this},setRatio:function(t){return this.ratio=t,this},setMaxValue:function(t){return this.maxValue=t,this.setValue(Math.min(this.value,this.maxValue)),this},setValue:function(t){this.value=t,this.value<0?this.value=0:this.value>this.maxValue&&(this.value=this.maxValue),this.refresh()},setPosition:function(t){return this.scrollbar.css(t),this},hide:function(){return this.scrollbar.detach(),this},show:function(){return this.scrollbar.appendTo(this.holder),this},refresh:function(){this.calcOffset=0===this.value||0===this.maxValue?0:this.value/this.maxValue*(this.currentSliderSize-this.handleSize),this.handle.css(this.offsetProperty,this.calcOffset),this.btnDec.toggleClass(this.options.inactiveClass,0===this.value),this.btnInc.toggleClass(this.options.inactiveClass,this.value===this.maxValue),this.scrollbar.toggleClass(this.options.inactiveClass,0===this.maxValue)},destroy:function(){this.btnDec.add(this.btnInc).off("jcf-pointerdown",this.onButtonPress),this.handle.off("jcf-pointerdown",this.onHandlePress),this.doc.off("jcf-pointermove",this.onHandleDrag),this.doc.off("jcf-pointerup",this.onHandleRelease),this.doc.off("jcf-pointerup",this.onButtonRelease),clearInterval(this.scrollTimer),this.scrollbar.remove()}})}(jQuery,this),function(){var t,e=function(){return window.innerHeight||document.documentElement.clientHeight},i=function(){var e=jQuery("<style>").appendTo("head");t=e.prop("sheet")||e.prop("styleSheet");var i=function(e,i,s){t.insertRule?t.insertRule(e+"{"+i+"}",s):t.addRule(e,i,s)};i(".win-min-height","min-height:0"),i(".win-height","height:auto"),i(".win-max-height","max-height:100%"),s()},s=function(){var i=e(),s=t.cssRules||t.rules;jQuery.each(s,function(t,e){var s=e.selectorText.toLowerCase().replace(".win-","").replace("-h","H");e.style[s]=i+"px"})};i(),jQuery(window).on("resize orientationchange",s)}(),Object.create&&!function(t,e,i,s){"use strict";function n(t,e,i){return setTimeout(c(t,i),e)}function o(t,e,i){return Array.isArray(t)?(r(t,i[e],i),!0):!1}function r(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==s)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function a(t,e,i){for(var n=Object.keys(e),o=0;o<n.length;)(!i||i&&t[n[o]]===s)&&(t[n[o]]=e[n[o]]),o++;return t}function h(t,e){return a(t,e,!0)}function l(t,e,i){var s,n=e.prototype;s=t.prototype=Object.create(n),s.constructor=t,s._super=n,i&&a(s,i)}function c(t,e){return function(){return t.apply(e,arguments)}}function u(t,e){return typeof t==ce?t.apply(e?e[0]||s:s,e):t}function p(t,e){return t===s?e:t}function d(t,e,i){r(g(e),function(e){t.addEventListener(e,i,!1)})}function f(t,e,i){r(g(e),function(e){t.removeEventListener(e,i,!1)})}function m(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function v(t,e){return t.indexOf(e)>-1}function g(t){return t.trim().split(/\s+/g)}function y(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var s=0;s<t.length;){if(i&&t[s][i]==e||!i&&t[s]===e)return s;s++}return-1}function b(t){return Array.prototype.slice.call(t,0)}function S(t,e,i){for(var s=[],n=[],o=0;o<t.length;){var r=e?t[o][e]:t[o];y(n,r)<0&&s.push(t[o]),n[o]=r,o++}return i&&(s=e?s.sort(function(t,i){return t[e]>i[e]}):s.sort()),s}function w(t,e){for(var i,n,o=e[0].toUpperCase()+e.slice(1),r=0;r<he.length;){if(i=he[r],n=i?i+o:e,n in t)return n;r++}return s}function T(){return fe++}function E(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function C(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){u(t.options.enable,[t])&&i.handler(e)},this.init()}function z(t){var e,i=t.options.inputClass;return new(e=i?i:ge?B:ye?_:ve?X:W)(t,D)}function D(t,e,i){var s=i.pointers.length,n=i.changedPointers.length,o=e&Ce&&s-n===0,r=e&(De|Pe)&&s-n===0;i.isFirst=!!o,i.isFinal=!!r,o&&(t.session={}),i.eventType=e,P(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function P(t,e){var i=t.session,s=e.pointers,n=s.length;i.firstInput||(i.firstInput=A(e)),n>1&&!i.firstMultiple?i.firstMultiple=A(e):1===n&&(i.firstMultiple=!1);var o=i.firstInput,r=i.firstMultiple,a=r?r.center:o.center,h=e.center=R(s);e.timeStamp=de(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=j(a,h),e.distance=M(a,h),x(i,e),e.offsetDirection=O(e.deltaX,e.deltaY),e.scale=r?L(r.pointers,s):1,e.rotation=r?I(r.pointers,s):0,H(i,e);var l=t.element;m(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function x(t,e){var i=e.center,s=t.offsetDelta||{},n=t.prevDelta||{},o=t.prevInput||{};(e.eventType===Ce||o.eventType===De)&&(n=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},s=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=n.x+(i.x-s.x),e.deltaY=n.y+(i.y-s.y)}function H(t,e){var i,n,o,r,a=t.lastInterval||e,h=e.timeStamp-a.timeStamp;if(e.eventType!=Pe&&(h>Ee||a.velocity===s)){var l=a.deltaX-e.deltaX,c=a.deltaY-e.deltaY,u=k(h,l,c);n=u.x,o=u.y,i=pe(u.x)>pe(u.y)?u.x:u.y,r=O(l,c),t.lastInterval=e}else i=a.velocity,n=a.velocityX,o=a.velocityY,r=a.direction;e.velocity=i,e.velocityX=n,e.velocityY=o,e.direction=r}function A(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:ue(t.pointers[i].clientX),clientY:ue(t.pointers[i].clientY)},i++;return{timeStamp:de(),pointers:e,center:R(e),deltaX:t.deltaX,deltaY:t.deltaY}}function R(t){var e=t.length;if(1===e)return{x:ue(t[0].clientX),y:ue(t[0].clientY)};for(var i=0,s=0,n=0;e>n;)i+=t[n].clientX,s+=t[n].clientY,n++;return{x:ue(i/e),y:ue(s/e)}}function k(t,e,i){return{x:e/t||0,y:i/t||0}}function O(t,e){return t===e?xe:pe(t)>=pe(e)?t>0?He:Ae:e>0?Re:ke}function M(t,e,i){i||(i=Ie);var s=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(s*s+n*n)}function j(t,e,i){i||(i=Ie);var s=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*Math.atan2(n,s)/Math.PI}function I(t,e){return j(e[1],e[0],Le)-j(t[1],t[0],Le)}function L(t,e){return M(e[0],e[1],Le)/M(t[0],t[1],Le)}function W(){this.evEl=Be,this.evWin=Ne,this.allow=!0,this.pressed=!1,C.apply(this,arguments)}function B(){this.evEl=Fe,this.evWin=Xe,C.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=Qe,this.evWin=qe,this.started=!1,C.apply(this,arguments)}function Y(t,e){var i=b(t.touches),s=b(t.changedTouches);return e&(De|Pe)&&(i=S(i.concat(s),"identifier",!0)),[i,s]}function _(){this.evTarget=Ge,this.targetIds={},C.apply(this,arguments)}function F(t,e){var i=b(t.touches),s=this.targetIds;if(e&(Ce|ze)&&1===i.length)return s[i[0].identifier]=!0,[i,i];var n,o,r=b(t.changedTouches),a=[],h=this.target;if(o=i.filter(function(t){return m(t.target,h)}),e===Ce)for(n=0;n<o.length;)s[o[n].identifier]=!0,n++;for(n=0;n<r.length;)s[r[n].identifier]&&a.push(r[n]),e&(De|Pe)&&delete s[r[n].identifier],n++;return a.length?[S(o.concat(a),"identifier",!0),a]:void 0}function X(){C.apply(this,arguments);var t=c(this.handler,this);this.touch=new _(this.manager,t),this.mouse=new W(this.manager,t)}function V(t,e){this.manager=t,this.set(e)}function Q(t){if(v(t,ei))return ei;var e=v(t,ii),i=v(t,si);return e&&i?ii+" "+si:e||i?e?ii:si:v(t,ti)?ti:$e}function q(t){this.id=T(),this.manager=null,this.options=h(t||{},this.defaults),this.options.enable=p(this.options.enable,!0),this.state=ni,this.simultaneous={},this.requireFail=[]}function K(t){return t&li?"cancel":t&ai?"end":t&ri?"move":t&oi?"start":""}function G(t){return t==ke?"down":t==Re?"up":t==He?"left":t==Ae?"right":""}function U(t,e){var i=e.manager;return i?i.get(t):t}function Z(){q.apply(this,arguments)}function J(){Z.apply(this,arguments),this.pX=null,this.pY=null}function $(){Z.apply(this,arguments)}function te(){q.apply(this,arguments),this._timer=null,this._input=null}function ee(){Z.apply(this,arguments)}function ie(){Z.apply(this,arguments)}function se(){q.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ne(t,e){return e=e||{},e.recognizers=p(e.recognizers,ne.defaults.preset),new oe(t,e)}function oe(t,e){e=e||{},this.options=h(e,ne.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=z(this),this.touchAction=new V(this,this.options.touchAction),re(this,!0),r(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function re(t,e){var i=t.element;r(t.options.cssProps,function(t,s){i.style[w(i.style,s)]=e?t:""})}function ae(t,i){var s=e.createEvent("Event");s.initEvent(t,!0,!0),s.gesture=i,i.target.dispatchEvent(s)}var he=["","webkit","moz","MS","ms","o"],le=e.createElement("div"),ce="function",ue=Math.round,pe=Math.abs,de=Date.now,fe=1,me=/mobile|tablet|ip(ad|hone|od)|android/i,ve="ontouchstart"in t,ge=w(t,"PointerEvent")!==s,ye=ve&&me.test(navigator.userAgent),be="touch",Se="pen",we="mouse",Te="kinect",Ee=25,Ce=1,ze=2,De=4,Pe=8,xe=1,He=2,Ae=4,Re=8,ke=16,Oe=He|Ae,Me=Re|ke,je=Oe|Me,Ie=["x","y"],Le=["clientX","clientY"];C.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(E(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(E(this.element),this.evWin,this.domHandler)}};var We={mousedown:Ce,mousemove:ze,mouseup:De},Be="mousedown",Ne="mousemove mouseup";l(W,C,{handler:function(t){var e=We[t.type];e&Ce&&0===t.button&&(this.pressed=!0),e&ze&&1!==t.which&&(e=De),this.pressed&&this.allow&&(e&De&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:we,srcEvent:t}))}});var Ye={pointerdown:Ce,pointermove:ze,pointerup:De,pointercancel:Pe,pointerout:Pe},_e={2:be,3:Se,4:we,5:Te},Fe="pointerdown",Xe="pointermove pointerup pointercancel";t.MSPointerEvent&&(Fe="MSPointerDown",Xe="MSPointerMove MSPointerUp MSPointerCancel"),l(B,C,{handler:function(t){var e=this.store,i=!1,s=t.type.toLowerCase().replace("ms",""),n=Ye[s],o=_e[t.pointerType]||t.pointerType,r=o==be,a=y(e,t.pointerId,"pointerId");n&Ce&&(0===t.button||r)?0>a&&(e.push(t),a=e.length-1):n&(De|Pe)&&(i=!0),0>a||(e[a]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(a,1))}});var Ve={touchstart:Ce,touchmove:ze,touchend:De,touchcancel:Pe},Qe="touchstart",qe="touchstart touchmove touchend touchcancel";l(N,C,{handler:function(t){var e=Ve[t.type];if(e===Ce&&(this.started=!0),this.started){var i=Y.call(this,t,e);e&(De|Pe)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:be,srcEvent:t})}}});var Ke={touchstart:Ce,touchmove:ze,touchend:De,touchcancel:Pe},Ge="touchstart touchmove touchend touchcancel";l(_,C,{handler:function(t){var e=Ke[t.type],i=F.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:be,srcEvent:t})}}),l(X,C,{handler:function(t,e,i){var s=i.pointerType==be,n=i.pointerType==we;if(s)this.mouse.allow=!1;else if(n&&!this.mouse.allow)return;e&(De|Pe)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ue=w(le.style,"touchAction"),Ze=Ue!==s,Je="compute",$e="auto",ti="manipulation",ei="none",ii="pan-x",si="pan-y";V.prototype={set:function(t){t==Je&&(t=this.compute()),Ze&&(this.manager.element.style[Ue]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return r(this.manager.recognizers,function(e){u(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Q(t.join(" "))},preventDefaults:function(t){if(!Ze){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var s=this.actions,n=v(s,ei),o=v(s,si),r=v(s,ii);return n||o&&i&Oe||r&&i&Me?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ni=1,oi=2,ri=4,ai=8,hi=ai,li=16,ci=32;q.prototype={defaults:{},set:function(t){return a(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(o(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=U(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return o(t,"dropRecognizeWith",this)?this:(t=U(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(o(t,"requireFailure",this))return this;var e=this.requireFail;return t=U(t,this),-1===y(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(o(t,"dropRequireFailure",this))return this;t=U(t,this);var e=y(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(i.options.event+(e?K(s):""),t)}var i=this,s=this.state;ai>s&&e(!0),e(),s>=ai&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=ci)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(ci|ni)))return!1;t++}return!0},recognize:function(t){var e=a({},t);return u(this.options.enable,[this,e])?(this.state&(hi|li|ci)&&(this.state=ni),this.state=this.process(e),void(this.state&(oi|ri|ai|li)&&this.tryEmit(e))):(this.reset(),void(this.state=ci))},process:function(){},getTouchAction:function(){},reset:function(){}},l(Z,q,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,s=e&(oi|ri),n=this.attrTest(t);return s&&(i&Pe||!n)?e|li:s||n?i&De?e|ai:e&oi?e|ri:oi:ci}}),l(J,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:je},getTouchAction:function(){var t=this.options.direction,e=[];return t&Oe&&e.push(si),t&Me&&e.push(ii),e},directionTest:function(t){var e=this.options,i=!0,s=t.distance,n=t.direction,o=t.deltaX,r=t.deltaY;return n&e.direction||(e.direction&Oe?(n=0===o?xe:0>o?He:Ae,i=o!=this.pX,s=Math.abs(t.deltaX)):(n=0===r?xe:0>r?Re:ke,i=r!=this.pY,s=Math.abs(t.deltaY))),t.direction=n,i&&s>e.threshold&&n&e.direction},attrTest:function(t){return Z.prototype.attrTest.call(this,t)&&(this.state&oi||!(this.state&oi)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=G(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),l($,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ei]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&oi)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),l(te,q,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[$e]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!s||!i||t.eventType&(De|Pe)&&!o)this.reset();else if(t.eventType&Ce)this.reset(),this._timer=n(function(){this.state=hi,this.tryEmit()},e.time,this);else if(t.eventType&De)return hi;return ci},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===hi&&(t&&t.eventType&De?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=de(),this.manager.emit(this.options.event,this._input)))}}),l(ee,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ei]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&oi)}}),l(ie,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Oe|Me,pointers:1},getTouchAction:function(){return J.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Oe|Me)?e=t.velocity:i&Oe?e=t.velocityX:i&Me&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&t.distance>this.options.threshold&&pe(e)>this.options.velocity&&t.eventType&De},emit:function(t){var e=G(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),l(se,q,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[ti]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Ce&&0===this.count)return this.failTimeout();if(s&&o&&i){if(t.eventType!=De)return this.failTimeout();var r=this.pTime?t.timeStamp-this.pTime<e.interval:!0,a=!this.pCenter||M(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&r?this.count+=1:this.count=1,this._input=t;var h=this.count%e.taps;if(0===h)return this.hasRequireFailures()?(this._timer=n(function(){this.state=hi,this.tryEmit()},e.interval,this),oi):hi}return ci},failTimeout:function(){return this._timer=n(function(){this.state=ci},this.options.interval,this),ci},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==hi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ne.VERSION="2.0.4",ne.defaults={domEvents:!1,touchAction:Je,enable:!0,inputTarget:null,inputClass:null,preset:[[ee,{enable:!1}],[$,{enable:!1},["rotate"]],[ie,{direction:Oe}],[J,{direction:Oe},["swipe"]],[se],[se,{event:"doubletap",taps:2},["tap"]],[te]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ui=1,pi=2;oe.prototype={set:function(t){return a(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?pi:ui},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,s=this.recognizers,n=e.curRecognizer;(!n||n&&n.state&hi)&&(n=e.curRecognizer=null);for(var o=0;o<s.length;)i=s[o],e.stopped===pi||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&i.state&(oi|ri|ai)&&(n=e.curRecognizer=i),o++}},get:function(t){if(t instanceof q)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(o(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(o(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(y(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return r(g(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return r(g(t),function(t){e?i[t].splice(y(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&ae(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<i.length;)i[s](e),s++}},destroy:function(){this.element&&re(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(ne,{INPUT_START:Ce,INPUT_MOVE:ze,INPUT_END:De,INPUT_CANCEL:Pe,STATE_POSSIBLE:ni,STATE_BEGAN:oi,STATE_CHANGED:ri,STATE_ENDED:ai,STATE_RECOGNIZED:hi,STATE_CANCELLED:li,STATE_FAILED:ci,DIRECTION_NONE:xe,DIRECTION_LEFT:He,DIRECTION_RIGHT:Ae,DIRECTION_UP:Re,DIRECTION_DOWN:ke,DIRECTION_HORIZONTAL:Oe,DIRECTION_VERTICAL:Me,DIRECTION_ALL:je,Manager:oe,Input:C,TouchAction:V,TouchInput:_,MouseInput:W,PointerEventInput:B,TouchMouseInput:X,SingleTouchInput:N,Recognizer:q,AttrRecognizer:Z,Tap:se,Pan:J,Swipe:ie,Pinch:$,Rotate:ee,Press:te,on:d,off:f,each:r,merge:h,extend:a,inherit:l,bindFn:c,prefixed:w}),typeof define==ce&&define.amd?define(function(){return ne}):"undefined"!=typeof module&&module.exports?module.exports=ne:t[i]=ne}(window,document,"Hammer");