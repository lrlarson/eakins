function initTableHover(){var e="active-col",t="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,i=navigator.msPointerEnabled&&/MSIE 10.*Touch/.test(navigator.userAgent),s=t?i?"MSPointerDown":"click":"click";jQuery(".table").each(function(){function n(t){0!=t&&a.each(function(){jQuery(this).children().removeClass(e);var i=jQuery(this).children().eq(t);i.addClass(e)})}function o(t){0!=t&&a.each(function(){var i=jQuery(this).children().eq(t);i.removeClass(e)})}var r=jQuery(this),a=r.find("tr");a.each(function(){var r=jQuery(this),a=r.children();t&&i?a.on(s,function(){jQuery(this).hasClass(e)||n(jQuery(this).index())}):a.on("mouseenter",function(){n(jQuery(this).index())}).on("mouseleave",function(){o(jQuery(this).index())})})})}function initCycleCarousel(){jQuery(".slideshow").scrollAbsoluteGallery({mask:".preview-area .mask",slider:".slideset",slides:".slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",pagerLinks:".thumbs-area li",maskAutoSize:!0,stretchSlideToMask:!0,pauseOnHover:!0,autoRotation:!1,switchTime:3e3,animSpeed:500})}function initPopups(){lib.each(lib.queryElementsBySelector(".popup-holder"),function(){new ContentPopup({holder:this})})}function initCarouselO(){function e(e,t){return t=t||0,Math.round(e*Math.pow(10,t))/Math.pow(10,t)}var t=130;jQuery(".thumbs-area").circleGallery({visibleSlides:5,slideset:".thumbs-mask ul",slides:"li",step:1,animSpeed:500,switchTime:3e3,autoRotation:!1,onInit:function(i){var i=this;i.slides.each(function(e){jQuery(this).attr("cur-index",e)}),this.refreshSlideDimention=function(){visibleSlides=i.holder.width()/t,i.options.visibleSlides=e(visibleSlides),i.options.step=1,i.onWindowResize()},this.win.on("resize",function(){i.refreshSlideDimention()}),i.refreshSlideDimention(),i.btnPrev=i.holder.parents(".slideshow").find(".preview-area .btn-prev, .thumbs-area .btn-prev"),i.btnNext=i.holder.parents(".slideshow").find(".preview-area .btn-next, .thumbs-area .btn-next"),i.btnPrev.length&&i.btnPrev.on(i.options.clickEvent,function(e){e.preventDefault(),i.prevPage(e)}),i.btnNext.length&&i.btnNext.on(i.options.clickEvent,function(e){e.preventDefault(),i.nextPage(e)})}})}function initCustomForms(){jcf.setOptions("Select",{wrapNative:!1,wrapNativeOnMobile:!1}),jcf.replaceAll()}function initFixedBlock(){jQuery(".twocolumns ").fixedSlideBlock({slideBlock:".fixed-ads"}),jQuery("#main .container").fixedSlideBlock({slideBlock:".fixed-block"})}function initModal(){var e=jQuery("#myModal"),t=/MSIE 10.*Touch/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,i=jQuery("#my-video"),s=i.attr("data-src");i.attr("src",s),e.on("show.bs.modal",function(){if(t){var e;clearTimeout(e),e=setTimeout(function(){jQuery(window).trigger("resize"),i.attr("src",s)},500)}else{var e;clearTimeout(e),e=setTimeout(function(){jQuery(window).trigger("resize"),i.attr("src",s)},200)}}),e.on("hidden.bs.modal",function(){jQuery(".slideshow").data("OpenClose").hideSlide(),i.attr("src","")})}function initCollapsible(){var e=jQuery("#bs-example-navbar-collapse-1"),t=jQuery(".menu-overlay");e.on("show.bs.collapse",function(){t.show()}),e.on("hidden.bs.collapse",function(){t.hide()})}function initOpenClose(){jQuery("#header .form-search").openClose({hideOnClickOutside:!0,activeClass:"active",opener:".btn-search",slider:".field-holder",animSpeed:400,effect:"slide"}),jQuery(".page-head").openClose({activeClass:"active",opener:".btn-category",slider:".category-slide",animSpeed:400,effect:"slide"}),jQuery(".slideshow").openClose({activeClass:"active",opener:".opener",slider:".video-frame",animSpeed:400,effect:"none",animEnd:function(e,t){var i=jQuery("#my-video"),s=i.attr("data-src");i.attr("src",s),t||i.attr("src","")}}),jQuery(".slideshow .thumbs-area .thumbs-mask ul li a").click(function(){jQuery(".slideshow.active .opener").trigger("click")})}function initFitVids(){jQuery(".video-holder").fitVids()}function CircleGallery(e,t){this.options=jQuery.extend({holder:e,slideset:".slideset",slides:".slide",btnPrev:".btn-prev",btnNext:".btn-next",pagination:".pagination ul",pagerMarkup:'<li><a href="#" class="page-num-%num%">%num%</a></li>',animSpeed:500,switchTime:5e3,autoRotation:!1,pauseOnHover:!0,clickEvent:"click",visibleSlides:!1,innerDimention:"width",animStyle:"marginLeft",handleTouch:!0,swipeThreshold:15,vertical:!1,step:1},t),this.init()}function ContentPopup(e){this.options=lib.extend({holder:null,popup:".popup",btnOpen:".open",btnClose:".close",openClass:"popup-active",clickEvent:"click",mode:"click",hideOnClickLink:!0,hideOnClickOutside:!0,delay:50},e),this.options.holder&&(this.holder=this.options.holder,this.init())}function bindReady(e){var t=!1,i=function(){t||(t=!0,e())};if(document.addEventListener)document.addEventListener("DOMContentLoaded",i,!1);else if(document.attachEvent){if(document.documentElement.doScroll&&window==window.top){var s=function(){if(!t&&document.body)try{document.documentElement.doScroll("left"),i()}catch(e){setTimeout(s,0)}};s()}document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&i()})}window.addEventListener?window.addEventListener("load",i,!1):window.attachEvent&&window.attachEvent("onload",i)}jQuery(function(){initOpenClose(),initFitVids(),initModal(),initCollapsible(),initFixedBlock(),jQuery("input, textarea").placeholder(),initCarouselO(),initCycleCarousel(),initCustomForms(),initPopups(),initTableHover()}),CircleGallery.prototype={init:function(){this.options.holder&&(this.findElements(),this.attachButtonEvents(),this.attachWindowEvent(),this.resizeSlides(),this.calcStep(),this.buildPager(),this.makeCallback("onInit"))},findElements:function(){this.holder=jQuery(this.options.holder),this.slideset=this.holder.find(this.options.slideset),this.slides=this.slideset.find(this.options.slides),this.pagination="string"==typeof this.options.pagination?this.holder.find(this.options.pagination):this.options.pagination,this.btnPrev="string"==typeof this.options.btnPrev?this.holder.find(this.options.btnPrev):this.options.btnPrev,this.btnNext="string"==typeof this.options.btnNext?this.holder.find(this.options.btnNext):this.options.btnNext,this.slidesCount=this.slides.length,this.animating=!1,this.options.visibleSlides&&(this.options.step=Math.min(this.options.step,this.options.visibleSlides)),this.win=jQuery(window)},attachButtonEvents:function(){var e=this;this.btnPrev.length&&this.btnPrev.on(this.options.clickEvent,function(t){t.preventDefault(),e.prevPage(t)}),this.btnNext.length&&this.btnNext.on(this.options.clickEvent,function(t){t.preventDefault(),e.nextPage(t)}),this.options.handleTouch&&window.Hammer&&this.holder.length&&this.slides.length>1&&isTouchDevice&&(this.swipeHandler=Hammer(this.holder[0],{dragBlockHorizontal:!this.options.vertical,dragBlockVertical:this.options.vertical,dragMinDistance:1,behavior:{touchAction:this.options.vertical?"pan-x":"pan-y"}}).on("touch release "+(e.options.vertical?"dragup dragdown":"dragleft dragright"),function(t){switch(t.type){case"touch":e.animating?t.gesture.stopDetect():clearTimeout(e.timer);break;case"dragup":case"dragdown":case"dragleft":case"dragright":t.gesture.preventDefault(),e.swipeOffset=-e.slideSize+t.gesture[e.options.vertical?"deltaY":"deltaX"],e.slider.css(e.animProperty,e.swipeOffset),clearTimeout(e.timer);break;case"release":if(Math.abs(t.gesture[e.options.vertical?"deltaY":"deltaX"])>e.options.swipeThreshold)"left"==t.gesture.direction||"up"==t.gesture.direction?e.nextPage():e.prevPage();else{var i={};i[e.animProperty]=-e.slideSize,e.slider.animate(i,{duration:e.options.animSpeed}),e.autoRotate()}e.swipeOffset=0}}))},attachWindowEvent:function(){var e=this;this.bindHandlers(["onWindowResize"]),this.win.on("resize."+this.options.nameSpace+" orientationchange."+this.options.nameSpace,this.onWindowResize),this.options.pauseOnHover&&(this.hoverHandler=function(){clearTimeout(e.timer)},this.leaveHandler=function(){e.autoRotate()},this.holder.on({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler})),this.autoRotate()},onWindowResize:function(){this.resizeSlides(),this.calcStep(),this.buildPager()},calcStep:function(){},prevPage:function(e){e&&"function"==typeof e.preventDefault&&e.preventDefault(),this.animating||this.switchFunc(this.options.step,!0)},nextPage:function(e){e&&"function"==typeof e.preventDefault&&e.preventDefault(),this.animating||this.switchFunc(this.options.step,!1)},calculateSumm:function(e){var t=0;return jQuery.each(e,function(){t+=jQuery(this).outerWidth(!0)}),t},resetSlideset:function(){this.slides=this.slideset.find(this.options.slides);var e={};e[this.options.animStyle]=0,this.slideset.css(e),this.autoRotate()},resizeSlides:function(){var e=this;if(1*this.options.visibleSlides>0){var t=this.holder.width()/this.options.visibleSlides;this.slides.each(function(){var i=jQuery(this)[e.options.innerDimention](!0)-jQuery(this).width();jQuery(this).css({width:t-(i||0)})}),this.buildPager()}this.makeCallback("onResizeSlides")},buildPager:function(){return},refreshPager:function(){},switchFunc:function(e,t){var i=this;this.animating=!0;var s={},n={};if(this.makeCallback("onBeforeChange"),t){var o=this.slides.filter(function(t){return t>i.slidesCount-1-e});this.slideset.prepend(o.clone(!0)),s[this.options.animStyle]=-this.calculateSumm(o),n[this.options.animStyle]=0,this.slideset.css(s).animate(n,{duration:i.options.animSpeed,complete:function(){o.remove(),i.resetSlideset(),i.animating=!1,i.makeCallback("onChange")}})}else{var o=this.slides.filter(function(t){return e>t});this.slideset.append(o.clone(!0)),n[this.options.animStyle]=-this.calculateSumm(o),this.slideset.animate(n,{duration:i.options.animSpeed,complete:function(){o.remove(),i.resetSlideset(),i.animating=!1,i.makeCallback("onChange")}})}},autoRotate:function(){var e=this;clearTimeout(this.timer),this.options.autoRotation&&(this.timer=setTimeout(function(){e.nextPage()},this.options.switchTime))},bindHandlers:function(e){var t=this;jQuery.each(e,function(e,i){var s=t[i];t[i]=function(){return s.apply(t,arguments)}})},makeCallback:function(e){if("function"==typeof this.options[e]){var t=Array.prototype.slice.call(arguments);t.shift(),this.options[e].apply(this,t)}}},ContentPopup.prototype={init:function(){this.findElements(),this.attachEvents()},findElements:function(){this.popup=lib.queryElementsBySelector(this.options.popup,this.holder),this.btnOpen=lib.queryElementsBySelector(this.options.btnOpen,this.holder),this.btnClose=lib.queryElementsBySelector(this.options.btnClose,this.holder),this.isTouchDevice=/MSIE 10.*Touch/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},attachEvents:function(){var e=this;if(this.clickMode=this.isTouchDevice||e.options.mode===e.options.clickEvent,this.clickMode)lib.each(this.btnOpen,function(t,i){lib.event.add(i,e.options.clickEvent,function(t){lib.hasClass(e.holder,e.options.openClass)?e.options.hideOnClickLink&&e.hidePopup():e.showPopup(),t.preventDefault()})}),this.outsideClickHandler=lib.bind(this.outsideClickHandler,this);else{var t,i=function(i){clearTimeout(t),t=setTimeout(function(){i.call(e)},e.options.delay)};lib.each(this.btnOpen,function(t,s){lib.event.add(s,"mouseover",function(){i(e.showPopup)}),lib.event.add(s,"mouseout",function(){i(e.hidePopup)})}),lib.each(this.popup,function(t,s){lib.event.add(s,"mouseover",function(){i(e.showPopup)}),lib.event.add(s,"mouseout",function(){i(e.hidePopup)})})}lib.each(this.btnClose,function(t,i){lib.event.add(i,e.options.clickEvent,function(t){e.hidePopup(),t.preventDefault()})})},outsideClickHandler:function(e){for(var t=(e.changedTouches?e.changedTouches[0]:e).target,i=!1,s=function(e,t){var i=!1;return lib.each(t,function(t,s){e===s&&(i=!0)}),i};t.parentNode;){if(i=s(t,this.popup),i|=s(t,this.btnOpen))return;t=t.parentNode}this.hidePopup()},showPopup:function(){lib.addClass(this.holder,this.options.openClass),lib.each(this.popup,function(e,t){t.style.display="block"}),this.clickMode&&this.options.hideOnClickOutside&&!this.outsideHandlerActive&&(this.outsideHandlerActive=!0,lib.event.add(document,"click",this.outsideClickHandler),lib.event.add(document,"touchstart",this.outsideClickHandler))},hidePopup:function(){lib.removeClass(this.holder,this.options.openClass),lib.each(this.popup,function(e,t){t.style.display="none"}),this.clickMode&&this.options.hideOnClickOutside&&this.outsideHandlerActive&&(this.outsideHandlerActive=!1,lib.event.remove(document,"click",this.outsideClickHandler),lib.event.remove(document,"touchstart",this.outsideClickHandler))}},lib={hasClass:function(e,t){return e&&e.className?e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)")):!1},addClass:function(e,t){e&&!this.hasClass(e,t)&&(e.className+=" "+t)},removeClass:function(e,t){e&&this.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," "))},extend:function(e){for(var t=1;t<arguments.length;t++)for(var i in arguments[t])arguments[t].hasOwnProperty(i)&&(e[i]=arguments[t][i]);return e},each:function(e,t){var i,s;if("number"==typeof e.length)for(i=0,s=e.length;s>i&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(e.hasOwnProperty(i)&&t.call(e[i],i,e[i])===!1)break},event:function(){var e=function(e){return e=e||window.event,e.isFixed?e:(e.isFixed=!0,e.target||(e.target=e.srcElement),e.preventDefault=e.preventDefault||function(){this.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0},e)};return{add:function(t,i,s){t.events||(t.events={},t.handle=function(i){var s,n=t.events[i.type];i=e(i);for(var o=0,r=n.length;r>o;o++)n[o]&&(s=n[o].call(t,i),s===!1&&(i.preventDefault(),i.stopPropagation()))}),t.events[i]||(t.events[i]=[],t.addEventListener?t.addEventListener(i,t.handle,!1):t.attachEvent&&t.attachEvent("on"+i,t.handle)),t.events[i].push(s)},remove:function(e,t,i){for(var s=e.events[t],n=s.length-1;n>=0;n--)s[n]===i&&s.splice(n,1);s.length||(delete e.events[t],e.removeEventListener?e.removeEventListener(t,e.handle,!1):e.detachEvent&&e.detachEvent("on"+t,e.handle))}}}(),queryElementsBySelector:function(e,t){if(t=t||document,!e)return[];if(">*"===e)return t.children;if("function"==typeof document.querySelectorAll)return t.querySelectorAll(e);for(var i=e.split(","),s=[],n=0;n<i.length;n++){for(var o=[t||document],r=i[n].replace(/^\s+/,"").replace(/\s+$/,"").split(" "),a=0;a<r.length;a++)if(token=r[a].replace(/^\s+/,"").replace(/\s+$/,""),token.indexOf("#")>-1){var l=token.split("#"),h=l[0],c=l[1],d=document.getElementById(c);if(d&&h&&d.nodeName.toLowerCase()!=h)return[];o=d?[d]:[]}else if(token.indexOf(".")>-1){for(var l=token.split("."),h=l[0]||"*",u=l[1],p=[],f=0,m=0;m<o.length;m++){var v;v="*"==h?o[m].getElementsByTagName("*"):o[m].getElementsByTagName(h);for(var g=0;g<v.length;g++)p[f++]=v[g]}o=[];for(var b=0,y=0;y<p.length;y++)p[y].className&&p[y].className.match(new RegExp("(\\s|^)"+u+"(\\s|$)"))&&(o[b++]=p[y])}else if(token.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/)){var h=RegExp.$1||"*",S=RegExp.$2,E=RegExp.$3,C=RegExp.$4;"for"==S.toLowerCase()&&this.browser.msie&&this.browser.version<8&&(S="htmlFor");for(var p=[],f=0,m=0;m<o.length;m++){var v;v="*"==h?o[m].getElementsByTagName("*"):o[m].getElementsByTagName(h);for(var g=0;v[g];g++)p[f++]=v[g]}o=[];var w,b=0;switch(E){case"=":w=function(e){return e.getAttribute(S)==C};break;case"~":w=function(e){return e.getAttribute(S).match(new RegExp("(\\s|^)"+C+"(\\s|$)"))};break;case"|":w=function(e){return e.getAttribute(S).match(new RegExp("^"+C+"-?"))};break;case"^":w=function(e){return 0==e.getAttribute(S).indexOf(C)};break;case"$":w=function(e){return e.getAttribute(S).lastIndexOf(C)==e.getAttribute(S).length-C.length};break;case"*":w=function(e){return e.getAttribute(S).indexOf(C)>-1};break;default:w=function(e){return e.getAttribute(S)}}o=[];for(var b=0,y=0;y<p.length;y++)w(p[y])&&(o[b++]=p[y])}else{h=token;for(var p=[],f=0,m=0;m<o.length;m++)for(var v=o[m].getElementsByTagName(h),g=0;g<v.length;g++)p[f++]=v[g];o=p}s=[].concat(s,o)}return s},trim:function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")},bind:function(e,t,i){return function(){return e.apply(t,"undefined"!=typeof i?[i]:arguments)}}};var isTouchDevice=/MSIE 10.*Touch/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;jQuery.fn.circleGallery=function(e){return this.each(function(){jQuery(this).data("CircleGallery",new CircleGallery(this,e))})},function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.jcf=t(jQuery)}(this,function(e){"use strict";var t=[],i={optionsKey:"jcf",dataKey:"jcf-instance",rtlClass:"jcf-rtl",focusClass:"jcf-focus",pressedClass:"jcf-pressed",disabledClass:"jcf-disabled",hiddenClass:"jcf-hidden",resetAppearanceClass:"jcf-reset-appearance",unselectableClass:"jcf-unselectable"},s="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,n=navigator.msPointerEnabled&&/MSIE 10.*Touch/.test(navigator.userAgent);i.isMobileDevice=!(!s&&!n);var o=function(){var t=e("<style>").appendTo("head"),s=t.prop("sheet")||t.prop("styleSheet"),n=function(e,t,i){s.insertRule?s.insertRule(e+"{"+t+"}",i):s.addRule(e,t,i)};n("."+i.hiddenClass,"position:absolute !important;left:-9999px !important;display:block !important"),n("."+i.rtlClass+"."+i.hiddenClass,"right:-9999px !important; left: auto !important"),n("."+i.unselectableClass,"-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;"),n("."+i.resetAppearanceClass,"background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);");var o=e("html"),r=e("body");("rtl"===o.css("direction")||"rtl"===r.css("direction"))&&o.addClass(i.rtlClass),i.styleSheetCreated=!0};return function(){var t,i=navigator.pointerEnabled||navigator.msPointerEnabled,s="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,n={},o="jcf-";t=i?{pointerover:navigator.pointerEnabled?"pointerover":"MSPointerOver",pointerdown:navigator.pointerEnabled?"pointerdown":"MSPointerDown",pointermove:navigator.pointerEnabled?"pointermove":"MSPointerMove",pointerup:navigator.pointerEnabled?"pointerup":"MSPointerUp"}:{pointerover:"mouseover",pointerdown:"mousedown"+(s?" touchstart":""),pointermove:"mousemove"+(s?" touchmove":""),pointerup:"mouseup"+(s?" touchend":"")},e.each(t,function(t,i){e.each(i.split(" "),function(e,i){n[i]=t})}),e.each(t,function(t,i){i=i.split(" "),e.event.special[o+t]={setup:function(){var t=this;e.each(i,function(e,i){t.addEventListener?t.addEventListener(i,l,!1):t["on"+i]=l})},teardown:function(){var t=this;e.each(i,function(e,i){t.addEventListener?t.removeEventListener(i,l,!1):t["on"+i]=null})}}});var r=null,a=function(e){var t=Math.abs(e.clientX-r.x),i=Math.abs(e.clientY-r.y),s=25;return s>=t&&s>=i?!0:void 0},l=function(t){var i=t||window.event,s=n[i.type];if(t=e.event.fix(i),t.type=o+s,i.pointerType)switch(i.pointerType){case 2:t.pointerType="touch";break;case 3:t.pointerType="pen";break;case 4:t.pointerType="mouse";break;default:t.pointerType=i.pointerType}else t.pointerType=i.type.substr(0,5);return t.pageX&&t.pageY||(t.pageX=(i.changedTouches?i.changedTouches[0]:i).pageX,t.pageY=(i.changedTouches?i.changedTouches[0]:i).pageY),"touchend"===i.type&&i.changedTouches[0]&&(r={x:i.changedTouches[0].clientX,y:i.changedTouches[0].clientY}),"mouse"===t.pointerType&&r&&a(t)?void 0:(e.event.dispatch||e.event.handle).call(this,t)}}(),function(){var t=("onwheel"in document||document.documentMode>=9?"wheel":"mousewheel DOMMouseScroll").split(" "),i="jcf-mousewheel";e.event.special[i]={setup:function(){var i=this;e.each(t,function(e,t){i.addEventListener?i.addEventListener(t,s,!1):i["on"+t]=s})},teardown:function(){var i=this;e.each(t,function(e,t){i.addEventListener?i.removeEventListener(t,s,!1):i["on"+t]=null})}};var s=function(t){var s=t||window.event;return t=e.event.fix(s),t.type=i,"detail"in s&&(t.deltaY=-s.detail),"wheelDelta"in s&&(t.deltaY=-s.wheelDelta),"wheelDeltaY"in s&&(t.deltaY=-s.wheelDeltaY),"wheelDeltaX"in s&&(t.deltaX=-s.wheelDeltaX),"deltaY"in s&&(t.deltaY=s.deltaY),"deltaX"in s&&(t.deltaX=s.deltaX),t.delta=t.deltaY||t.deltaX,(e.event.dispatch||e.event.handle).call(this,t)}}(),{modules:{},getOptions:function(){return e.extend({},i)},setOptions:function(t,s){arguments.length>1?this.modules[t]&&e.extend(this.modules[t].prototype.options,s):e.extend(i,t)},addModule:function(s){var n=function(s){s.element.data(i.dataKey,this),t.push(this),this.options=e.extend({},i,this.options,s.element.data(i.optionsKey),s),this.bindHandlers(),this.init.apply(this,arguments)};n.prototype=s,n.prototype.bindHandlers=function(){var t=this;e.each(t,function(i,s){0===i.indexOf("on")&&e.isFunction(s)&&(t[i]=function(){return s.apply(t,arguments)})})},s.plugins&&e.each(s.plugins,function(e,t){t.prototype.bindHandlers=n.prototype.bindHandlers});var o=n.prototype.destroy;n.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var e=t.length-1;e>=0;e--)if(t[e]===this){t.splice(e,1);break}o&&o.apply(this,arguments)},this.modules[s.name]=n},getInstance:function(t){return e(t).data(i.dataKey)},replace:function(t,s,n){var r,a=this;return i.styleSheetCreated||o(),e(t).each(function(){var t,o=e(this);r=o.data(i.dataKey),r?r.refresh():(s||e.each(a.modules,function(e,t){return t.prototype.matchElement.call(t.prototype,o)?(s=e,!1):void 0}),s&&(t=e.extend({element:o},n),r=new a.modules[s](t)))}),r},refresh:function(t){e(t).each(function(){var t=e(this).data(i.dataKey);t&&t.refresh()})},destroy:function(t){e(t).each(function(){var t=e(this).data(i.dataKey);t&&t.destroy()})},replaceAll:function(t){var i=this;e.each(this.modules,function(s,n){e(n.prototype.selector,t).each(function(){i.replace(this,s)})})},refreshAll:function(s){if(s)e.each(this.modules,function(t,n){e(n.prototype.selector,s).each(function(){var t=e(this).data(i.dataKey);t&&t.refresh()})});else for(var n=t.length-1;n>=0;n--)t[n].refresh()},destroyAll:function(s){if(s)e.each(this.modules,function(t,n){e(n.prototype.selector,s).each(function(t,s){var n=e(s).data(i.dataKey);n&&n.destroy()})});else for(;t.length;)t[0].destroy()}}}),function(e,t){"use strict";function i(t){this.options=e.extend({wrapNative:!0,wrapNativeOnMobile:!0,fakeDropInBody:!0,useCustomScroll:!0,flipDropToFit:!0,maxVisibleItems:10,fakeAreaStructure:'<span class="jcf-select"><span class="jcf-select-text"></span><span class="jcf-select-opener"></span></span>',fakeDropStructure:'<div class="jcf-select-drop"><div class="jcf-select-drop-content"></div></div>',optionClassPrefix:"jcf-option-",selectClassPrefix:"jcf-select-",dropContentSelector:".jcf-select-drop-content",selectTextSelector:".jcf-select-text",dropActiveClass:"jcf-drop-active",flipDropClass:"jcf-drop-flipped"},t),this.init()}function s(t){this.options=e.extend({wrapNative:!0,useCustomScroll:!0,fakeStructure:'<span class="jcf-list-box"><span class="jcf-list-wrapper"></span></span>',selectClassPrefix:"jcf-select-",listHolder:".jcf-list-wrapper"},t),this.init()}function n(t){this.options=e.extend({holder:null,maxVisibleItems:10,selectOnClick:!0,useHoverClass:!1,useCustomScroll:!1,alwaysPreventMouseWheel:!1,indexAttribute:"data-index",cloneClassPrefix:"jcf-option-",containerStructure:'<span class="jcf-list"><span class="jcf-list-content"></span></span>',containerSelector:".jcf-list-content",captionClass:"jcf-optgroup-caption",disabledClass:"jcf-disabled",optionClass:"jcf-option",groupClass:"jcf-optgroup",hoverClass:"jcf-hover",selectedClass:"jcf-selected",scrollClass:"jcf-scroll-active"},t),this.init()}jcf.addModule({name:"Select",selector:"select",options:{element:null},plugins:{ListBox:s,ComboBox:i,SelectList:n},matchElement:function(e){return e.is("select")},init:function(){this.element=e(this.options.element),this.createInstance()},isListBox:function(){return this.element.is("[size]:not([jcf-size]), [multiple]")},createInstance:function(){this.instance&&this.instance.destroy(),this.instance=this.isListBox()?new s(this.options):new i(this.options)},refresh:function(){var e=this.isListBox()&&this.instance instanceof i||!this.isListBox()&&this.instance instanceof s;e?this.createInstance():this.instance.refresh()},destroy:function(){this.instance.destroy()}}),e.extend(i.prototype,{init:function(){this.initStructure(),this.bindHandlers(),this.attachEvents(),this.refresh()},initStructure:function(){this.win=e(t),this.doc=e(document),this.realElement=e(this.options.element),this.fakeElement=e(this.options.fakeAreaStructure).insertAfter(this.realElement),this.selectText=this.fakeElement.find(this.options.selectTextSelector),r(this.fakeElement),this.fakeElement.addClass(o(this.realElement.prop("className"),this.options.selectClassPrefix)),this.options.isMobileDevice&&this.options.wrapNativeOnMobile&&!this.options.wrapNative&&(this.options.wrapNative=!0),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%"}).addClass(this.options.resetAppearanceClass):(this.realElement.addClass(this.options.hiddenClass),this.fakeDropTarget=this.options.fakeDropInBody?"body":this.fakeElement)},attachEvents:function(){var e=this;this.delayedRefresh=function(){setTimeout(function(){e.refresh(),e.list&&e.list.refresh()},1)},this.options.wrapNative?this.realElement.on({focus:this.onFocus,change:this.onChange,click:this.onChange,keydown:this.onChange}):(this.realElement.on({focus:this.onFocus,change:this.onChange,keydown:this.onKeyDown}),this.fakeElement.on({"jcf-pointerdown":this.onSelectAreaPress}))},onKeyDown:function(e){13===e.which?this.toggleDropdown():this.delayedRefresh()},onChange:function(){this.refresh()},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.toggleListMode(!0),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.toggleListMode(!1),this.focusedFlag=!1)},onResize:function(){this.dropActive&&this.hideDropdown()},onSelectDropPress:function(){this.pressedFlag=!0},onSelectDropRelease:function(e,t){this.pressedFlag=!1,"mouse"===t.pointerType&&this.realElement.focus()},onSelectAreaPress:function(t){var i=!this.options.fakeDropInBody&&e(t.target).closest(this.dropdown).length;i||t.button>1||this.realElement.is(":disabled")||(this.toggleDropdown(),this.focusedFlag||("mouse"===t.pointerType?this.realElement.focus():this.onFocus(t)),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onSelectAreaRelease))},onSelectAreaRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onSelectAreaRelease)},onOutsideClick:function(t){var i=e(t.target),s=i.closest(this.fakeElement).length||i.closest(this.dropdown).length;!s&&e.contains(document.body,t.target)&&this.hideDropdown()},onSelect:function(){this.hideDropdown(),this.refresh(),this.realElement.trigger("change")},toggleListMode:function(e){this.options.wrapNative||(e?this.realElement.attr({size:4,"jcf-size":""}):this.options.wrapNative||this.realElement.removeAttr("size jcf-size"))},createDropdown:function(){this.dropdown&&(this.list.destroy(),this.dropdown.remove()),this.dropdown=e(this.options.fakeDropStructure).appendTo(this.fakeDropTarget),this.dropdown.addClass(o(this.realElement.prop("className"),this.options.selectClassPrefix)),r(this.dropdown),this.list=new n({useHoverClass:!0,alwaysPreventMouseWheel:!0,maxVisibleItems:this.options.maxVisibleItems,useCustomScroll:this.options.useCustomScroll,holder:this.dropdown.find(this.options.dropContentSelector),element:this.realElement}),e(this.list).on({select:this.onSelect,press:this.onSelectDropPress,release:this.onSelectDropRelease})},repositionDropdown:function(){var e,t,i=this.fakeElement.offset(),s=this.fakeElement.outerWidth(),n=this.fakeElement.outerHeight(),o=this.dropdown.outerHeight(),r=this.win.scrollTop(),a=this.win.height(),l=!1;i.top+n+o>r+a&&i.top-o>r&&(l=!0),this.options.fakeDropInBody&&(this.options.flipDropToFit&&l?(t=i.left,e=i.top-o):(t=i.left,e=i.top+n),this.dropdown.css({position:"absolute",width:s,left:t,top:e})),this.dropdown.add(this.fakeElement).toggleClass(this.options.flipDropClass,this.options.flipDropToFit&&l)},showDropdown:function(){this.dropdown||this.createDropdown(),this.dropActive=!0,this.dropdown.appendTo(this.fakeDropTarget),this.fakeElement.addClass(this.options.dropActiveClass),this.refreshSelectedText(),this.repositionDropdown(),this.list.setScrollTop(this.savedScrollTop),this.list.refresh(),this.win.on("resize",this.onResize),this.doc.on("jcf-pointerdown",this.onOutsideClick)},hideDropdown:function(){this.dropdown&&(this.savedScrollTop=this.list.getScrollTop(),this.fakeElement.removeClass(this.options.dropActiveClass+" "+this.options.flipDropClass),this.dropdown.removeClass(this.options.flipDropClass).detach(),this.doc.off("jcf-pointerdown",this.onOutsideClick),this.win.off("resize",this.onResize),this.dropActive=!1)},toggleDropdown:function(){this.dropActive?this.hideDropdown():this.showDropdown()},refreshSelectedText:function(){var t=this.realElement.prop("selectedIndex"),i=this.realElement.prop("options")[t],s=i.getAttribute("data-image"),n=o(i.className,this.options.optionClassPrefix),r=e("<span></span>",{"class":n,html:i.innerHTML});s&&e("<img>",{src:s}).prependTo(r),this.selectText.empty().append(r)},refresh:function(){this.refreshSelectedText(),this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled"))},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",height:"",width:""}).removeClass(this.options.resetAppearanceClass):(this.realElement.removeClass(this.options.hiddenClass),this.realElement.is("[jcf-size]")&&this.realElement.removeAttr("size jcf-size")),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onSelectAreaRelease),this.realElement.off({focus:this.onFocus})}}),e.extend(s.prototype,{init:function(){this.bindHandlers(),this.initStructure(),this.attachEvents()},initStructure:function(){this.realElement=e(this.options.element),this.fakeElement=e(this.options.fakeStructure).insertAfter(this.realElement),this.listHolder=this.fakeElement.find(this.options.listHolder),r(this.fakeElement),this.fakeElement.addClass(o(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.addClass(this.options.hiddenClass),this.list=new n({useCustomScroll:this.options.useCustomScroll,holder:this.listHolder,selectOnClick:!1,element:this.realElement})},attachEvents:function(){var t=this;this.delayedRefresh=function(){clearTimeout(t.refreshTimer),t.refreshTimer=setTimeout(function(){t.refresh()},1)},this.realElement.on({focus:this.onFocus,click:this.delayedRefresh,keydown:this.delayedRefresh}),e(this.list).on({select:this.onSelect,press:this.onFakeOptionsPress,release:this.onFakeOptionsRelease})},onFakeOptionsPress:function(e,t){this.pressedFlag=!0,"mouse"===t.pointerType&&this.realElement.focus()},onFakeOptionsRelease:function(e,t){this.pressedFlag=!1,"mouse"===t.pointerType&&this.realElement.focus()},onSelect:function(){this.realElement.trigger("change")},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.focusedFlag=!1)},refresh:function(){this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.list.refresh()},destroy:function(){this.list.destroy(),this.realElement.insertBefore(this.fakeElement).removeClass(this.options.hiddenClass),this.fakeElement.remove()
}}),e.extend(n.prototype,{init:function(){this.initStructure(),this.refreshSelectedClass(),this.attachEvents()},initStructure:function(){this.element=e(this.options.element),this.indexSelector="["+this.options.indexAttribute+"]",this.container=e(this.options.containerStructure).appendTo(this.options.holder),this.listHolder=this.container.find(this.options.containerSelector),this.lastClickedIndex=this.element.prop("selectedIndex"),this.rebuildList()},attachEvents:function(){this.bindHandlers(),this.listHolder.on("jcf-pointerdown",this.indexSelector,this.onItemPress),this.listHolder.on("jcf-pointerdown",this.onPress),this.options.useHoverClass&&this.listHolder.on("jcf-pointerover",this.indexSelector,this.onHoverItem)},onPress:function(t){e(this).trigger("press",t),this.listHolder.on("jcf-pointerup",this.onRelease)},onRelease:function(t){e(this).trigger("release",t),this.listHolder.off("jcf-pointerup",this.onRelease)},onHoverItem:function(e){var t=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute));this.fakeOptions.removeClass(this.options.hoverClass).eq(t).addClass(this.options.hoverClass)},onItemPress:function(e){"touch"===e.pointerType||this.options.selectOnClick?(this.tmpListOffsetTop=this.list.offset().top,this.listHolder.on("jcf-pointerup",this.indexSelector,this.onItemRelease)):this.onSelectItem(e)},onItemRelease:function(e){this.listHolder.on("jcf-pointerup",this.indexSelector,this.onItemRelease),this.tmpListOffsetTop===this.list.offset().top&&this.onSelectItem(e),delete this.tmpListOffsetTop},onSelectItem:function(t){var i,s=parseFloat(t.currentTarget.getAttribute(this.options.indexAttribute));t.button>1||this.realOptions[s].disabled||(this.element.prop("multiple")?t.metaKey||t.ctrlKey||"touch"===t.pointerType?this.realOptions[s].selected=!this.realOptions[s].selected:t.shiftKey?(i=[this.lastClickedIndex,s].sort(function(e,t){return e-t}),this.realOptions.each(function(e,t){t.selected=e>=i[0]&&e<=i[1]})):this.element.prop("selectedIndex",s):this.element.prop("selectedIndex",s),t.shiftKey||(this.lastClickedIndex=s),this.refreshSelectedClass(),"mouse"===t.pointerType&&this.scrollToActiveOption(),e(this).trigger("select"))},rebuildList:function(){var t=this,i=this.element[0];this.storedSelectHTML=i.innerHTML,this.optionIndex=0,this.list=e(this.createOptionsList(i)),this.listHolder.empty().append(this.list),this.realOptions=this.element.find("option"),this.fakeOptions=this.list.find(this.indexSelector),this.fakeListItems=this.list.find("."+this.options.captionClass+","+this.indexSelector),delete this.optionIndex;var s=this.options.maxVisibleItems,n=this.element.prop("size");n>1&&(s=n);var o=this.fakeOptions.length>s;return this.container.toggleClass(this.options.scrollClass,o),o&&(this.listHolder.css({maxHeight:this.getOverflowHeight(s),overflow:"auto"}),this.options.useCustomScroll&&jcf.modules.Scrollable)?(jcf.replace(this.listHolder,"Scrollable",{alwaysPreventMouseWheel:this.options.alwaysPreventMouseWheel}),void 0):(this.options.alwaysPreventMouseWheel&&(this.preventWheelHandler=function(e){var i=t.listHolder.scrollTop(),s=t.listHolder.prop("scrollHeight")-t.listHolder.innerHeight();t.listHolder.prop("scrollWidth")-t.listHolder.innerWidth(),(0>=i&&e.deltaY<0||i>=s&&e.deltaY>0)&&e.preventDefault()},this.listHolder.on("jcf-mousewheel",this.preventWheelHandler)),void 0)},refreshSelectedClass:function(){var e,t=this,i=this.element.prop("multiple"),s=this.element.prop("selectedIndex");i?this.realOptions.each(function(e,i){t.fakeOptions.eq(e).toggleClass(t.options.selectedClass,!!i.selected)}):(this.fakeOptions.removeClass(this.options.selectedClass+" "+this.options.hoverClass),e=this.fakeOptions.eq(s).addClass(this.options.selectedClass),this.options.useHoverClass&&e.addClass(this.options.hoverClass))},scrollToActiveOption:function(){var e=this.getActiveOptionOffset();this.listHolder.prop("scrollTop",e)},getSelectedIndexRange:function(){var e=-1,t=-1;return this.realOptions.each(function(i,s){s.selected&&(0>e&&(e=i),t=i)}),[e,t]},getChangedSelectedIndex:function(){var e,t=this.element.prop("selectedIndex");return this.element.prop("multiple")?(this.previousRange||(this.previousRange=[t,t]),this.currentRange=this.getSelectedIndexRange(),e=this.currentRange[this.currentRange[0]!==this.previousRange[0]?0:1],this.previousRange=this.currentRange,e):t},getActiveOptionOffset:function(){var e=this.listHolder.height(),t=this.listHolder.prop("scrollTop"),i=this.getChangedSelectedIndex(),s=this.fakeOptions.eq(i),n=s.offset().top-this.list.offset().top,o=s.innerHeight();return n+o>=t+e?n-e+o:t>n?n:void 0},getOverflowHeight:function(e){var t=this.fakeListItems.eq(e-1),i=this.list.offset().top,s=t.offset().top,n=t.innerHeight();return s+n-i},getScrollTop:function(){return this.listHolder.scrollTop()},setScrollTop:function(e){this.listHolder.scrollTop(e)},createOption:function(e){var t=document.createElement("span");t.className=this.options.optionClass,t.innerHTML=e.innerHTML,t.setAttribute(this.options.indexAttribute,this.optionIndex++);var i,s=e.getAttribute("data-image");return s&&(i=document.createElement("img"),i.src=s,t.insertBefore(i,t.childNodes[0])),e.disabled&&(t.className+=" "+this.options.disabledClass),e.className&&(t.className+=" "+o(e.className,this.options.cloneClassPrefix)),t},createOptGroup:function(e){var t,i,s=document.createElement("span"),n=e.getAttribute("label");return t=document.createElement("span"),t.className=this.options.captionClass,t.innerHTML=n,s.appendChild(t),e.children.length&&(i=this.createOptionsList(e),s.appendChild(i)),s.className=this.options.groupClass,s},createOptionContainer:function(){var e=document.createElement("li");return e},createOptionsList:function(t){var i=this,s=document.createElement("ul");return e.each(t.children,function(e,t){var n,o=i.createOptionContainer(t);switch(t.tagName.toLowerCase()){case"option":n=i.createOption(t);break;case"optgroup":n=i.createOptGroup(t)}s.appendChild(o).appendChild(n)}),s},refresh:function(){this.storedSelectHTML!==this.element.prop("innerHTML")&&this.rebuildList();var e=jcf.getInstance(this.listHolder);e&&e.refresh(),this.scrollToActiveOption(),this.refreshSelectedClass()},destroy:function(){this.listHolder.off("jcf-mousewheel",this.preventWheelHandler),this.listHolder.off("jcf-pointerdown",this.indexSelector,this.onSelectItem),this.listHolder.off("jcf-pointerover",this.indexSelector,this.onHoverItem),this.listHolder.off("jcf-pointerdown",this.onPress)}});var o=function(e,t){return e?e.replace(/[\s]*([\S]+)+[\s]*/gi,t+"$1 "):""},r=function(){function e(e){e.preventDefault()}var t=jcf.getOptions().unselectableClass;return function(i){i.addClass(t).on("selectstart",e)}}()}(jQuery,this),function(e){"use strict";jcf.addModule({name:"Checkbox",selector:'input[type="checkbox"]',options:{wrapNative:!0,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-checkbox"><span></span></span>'},matchElement:function(e){return e.is(":checkbox")},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=e(document),this.realElement=e(this.options.element),this.fakeElement=e(this.options.fakeStructure).insertAfter(this.realElement),this.labelElement=this.getLabelFor(),this.options.wrapNative?this.realElement.appendTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%",opacity:0,margin:0}):this.realElement.addClass(this.options.hiddenClass)},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick}),this.fakeElement.on("click",this.onFakeClick),this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function(){this.refresh()},onFakeClick:function(e){this.options.wrapNative&&this.realElement.is(e.target)||this.realElement.is(":disabled")||(this.realElement.prop("checked",!this.realElement.prop("checked")),this.refresh(),this.realElement.trigger("change"))},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.focusedFlag=!0,this.realElement.on("blur",this.onBlur))},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.focusedFlag=!1,this.realElement.off("blur",this.onBlur))},onPress:function(){this.focusedFlag||this.realElement.focus(),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(){this.focusedFlag&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getLabelFor:function(){var t=this.realElement.closest("label"),i=this.realElement.prop("id");return!t.length&&i&&(t=e('label[for="'+i+'"]')),t.length?t:null},refresh:function(){var e=this.realElement.is(":checked"),t=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,e).toggleClass(this.options.uncheckedClass,!e).toggleClass(this.options.disabledClass,t),this.labelElement&&this.labelElement.toggleClass(this.options.labelActiveClass,e)},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""}):this.realElement.removeClass(this.options.hiddenClass),this.fakeElement.off("jcf-pointerdown",this.onPress),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onRelease),this.realElement.off({focus:this.onFocus,click:this.onRealClick})}})}(jQuery,this),function(e,t){"use strict";function i(t){this.options=e.extend({holder:null,vertical:!0,inactiveClass:"jcf-inactive",verticalClass:"jcf-scrollbar-vertical",horizontalClass:"jcf-scrollbar-horizontal",scrollbarStructure:'<div class="jcf-scrollbar"><div class="jcf-scrollbar-dec"></div><div class="jcf-scrollbar-slider"><div class="jcf-scrollbar-handle"></div></div><div class="jcf-scrollbar-inc"></div></div>',btnDecSelector:".jcf-scrollbar-dec",btnIncSelector:".jcf-scrollbar-inc",sliderSelector:".jcf-scrollbar-slider",handleSelector:".jcf-scrollbar-handle",scrollInterval:10,scrollStep:5},t),this.init()}jcf.addModule({name:"Scrollable",selector:".jcf-scrollable",plugins:{ScrollBar:i},options:{mouseWheelStep:150,alwaysShowScrollbars:!1,alwaysPreventMouseWheel:!1,scrollAreaStructure:'<div class="jcf-scrollable-wrapper"></div>'},matchElement:function(e){return e.is(".jcf-scrollable")},init:function(){this.initStructure(),this.attachEvents(),this.rebuildScrollbars()},initStructure:function(){this.doc=e(document),this.win=e(t),this.realElement=e(this.options.element),this.scrollWrapper=e(this.options.scrollAreaStructure).insertAfter(this.realElement),this.scrollWrapper.css("position","relative"),this.realElement.css("overflow","hidden"),this.vBarEdge=0},attachEvents:function(){var e=this;this.vBar=new i({holder:this.scrollWrapper,vertical:!0,onScroll:function(t){e.realElement.scrollTop(t)}}),this.hBar=new i({holder:this.scrollWrapper,vertical:!1,onScroll:function(t){e.realElement.scrollLeft(t)}}),this.realElement.on("scroll",this.onScroll),this.win.on("resize orientationchange",this.onResize),this.realElement.on("jcf-mousewheel",this.onMouseWheel),this.realElement.on("jcf-pointerdown",this.onTouchBody)},onScroll:function(){this.redrawScrollbars()},onResize:function(){this.rebuildScrollbars()},onTouchBody:function(e){"touch"===e.pointerType&&(this.touchData={scrollTop:this.realElement.scrollTop(),scrollLeft:this.realElement.scrollLeft(),left:e.pageX,top:e.pageY},this.doc.on({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}))},onMoveBody:function(e){"touch"===e.pointerType&&(e.preventDefault(),this.realElement.scrollLeft(this.touchData.scrollLeft-e.pageX+this.touchData.left),this.realElement.scrollTop(this.touchData.scrollTop-e.pageY+this.touchData.top))},onReleaseBody:function(e){"touch"===e.pointerType&&(delete this.touchData,this.doc.off({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}))},onMouseWheel:function(e){var t,i,s=this.realElement.scrollTop(),n=this.realElement.scrollLeft(),o=this.realElement.prop("scrollHeight")-this.embeddedDimensions.innerHeight,r=this.realElement.prop("scrollWidth")-this.embeddedDimensions.innerWidth;if(!this.options.alwaysPreventMouseWheel){if(this.verticalScrollActive&&(0>=s&&e.deltaY<0||s>=o&&e.deltaY>0))return;if(this.horizontalScrollActive&&(0>=n&&e.deltaX<0||n>=r&&e.deltaX>0))return}e.preventDefault(),t=e.deltaX/100*this.options.mouseWheelStep,i=e.deltaY/100*this.options.mouseWheelStep,this.realElement.scrollTop(s+i),this.realElement.scrollLeft(n+t)},setScrollBarEdge:function(e){this.vBarEdge=e||0,this.redrawScrollbars()},saveElementDimensions:function(){return this.savedDimensions={top:this.realElement.width(),left:this.realElement.height()},this},restoreElementDimensions:function(){return this.savedDimensions&&this.realElement.css({width:this.savedDimensions.width,height:this.savedDimensions.height}),this},saveScrollOffsets:function(){return this.savedOffsets={top:this.realElement.scrollTop(),left:this.realElement.scrollLeft()},this},restoreScrollOffsets:function(){return this.savedOffsets&&(this.realElement.scrollTop(this.savedOffsets.top),this.realElement.scrollLeft(this.savedOffsets.left)),this},getContainerDimensions:function(){var e,t,i,s;return this.isModifiedStyles?e={width:this.realElement.innerWidth()+this.vBar.getThickness(),height:this.realElement.innerHeight()+this.hBar.getThickness()}:(this.saveElementDimensions().saveScrollOffsets(),this.realElement.insertAfter(this.scrollWrapper),this.scrollWrapper.detach(),t=this.realElement.prop("style"),s=parseFloat(t.width),i=parseFloat(t.height),this.embeddedDimensions&&s&&i&&(this.isModifiedStyles|=s!==this.embeddedDimensions.width||i!==this.embeddedDimensions.height,this.realElement.css({overflow:"",width:"",height:""})),e={width:this.realElement.outerWidth(),height:this.realElement.outerHeight()},this.scrollWrapper.insertAfter(this.realElement),this.realElement.css("overflow","hidden").prependTo(this.scrollWrapper),this.restoreElementDimensions().restoreScrollOffsets()),e},getEmbeddedDimensions:function(t){var i,s=this.vBar.getThickness(),n=this.hBar.getThickness(),o=this.realElement.outerWidth()-this.realElement.width(),r=this.realElement.outerHeight()-this.realElement.height();return this.options.alwaysShowScrollbars?(this.verticalScrollActive=!0,this.horizontalScrollActive=!0,i={innerWidth:t.width-s,innerHeight:t.height-n}):(this.saveElementDimensions(),this.verticalScrollActive=!1,this.horizontalScrollActive=!1,this.realElement.css({width:t.width-o,height:t.height-r}),this.horizontalScrollActive=this.realElement.prop("scrollWidth")>this.containerDimensions.width,this.verticalScrollActive=this.realElement.prop("scrollHeight")>this.containerDimensions.height,this.restoreElementDimensions(),i={innerWidth:t.width-(this.verticalScrollActive?s:0),innerHeight:t.height-(this.horizontalScrollActive?n:0)}),e.extend(i,{width:i.innerWidth-o,height:i.innerHeight-r}),i},rebuildScrollbars:function(){this.containerDimensions=this.getContainerDimensions(),this.embeddedDimensions=this.getEmbeddedDimensions(this.containerDimensions),this.scrollWrapper.css({width:this.containerDimensions.width,height:this.containerDimensions.height}),this.realElement.css({overflow:"hidden",width:this.embeddedDimensions.width,height:this.embeddedDimensions.height}),this.redrawScrollbars()},redrawScrollbars:function(){var e,t;this.verticalScrollActive?(e=this.vBarEdge?this.containerDimensions.height-this.vBarEdge:this.embeddedDimensions.innerHeight,t=this.realElement.prop("scrollHeight")-this.vBarEdge,this.vBar.show().setMaxValue(t-e).setRatio(e/t).setSize(e),this.vBar.setValue(this.realElement.scrollTop())):this.vBar.hide(),this.horizontalScrollActive?(e=this.embeddedDimensions.innerWidth,t=this.realElement.prop("scrollWidth"),this.hBar.show().setMaxValue(t-e).setRatio(e/t).setSize(e),this.hBar.setValue(this.realElement.scrollLeft())):this.hBar.hide();var i="";this.verticalScrollActive&&this.horizontalScrollActive?i="none":this.verticalScrollActive?i="pan-x":this.horizontalScrollActive&&(i="pan-y"),this.realElement.css("touchAction",i)},refresh:function(){this.rebuildScrollbars()},destroy:function(){this.win.off("resize orientationchange",this.onResize),this.realElement.off({"jcf-mousewheel":this.onMouseWheel,"jcf-pointerdown":this.onTouchBody}),this.doc.off({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}),this.saveScrollOffsets(),this.vBar.destroy(),this.hBar.destroy(),this.realElement.insertAfter(this.scrollWrapper).css({touchAction:"",overflow:"",width:"",height:""}),this.scrollWrapper.remove(),this.restoreScrollOffsets()}}),e.extend(i.prototype,{init:function(){this.initStructure(),this.attachEvents()},initStructure:function(){this.doc=e(document),this.isVertical=!!this.options.vertical,this.sizeProperty=this.isVertical?"height":"width",this.fullSizeProperty=this.isVertical?"outerHeight":"outerWidth",this.invertedSizeProperty=this.isVertical?"width":"height",this.thicknessMeasureMethod="outer"+this.invertedSizeProperty.charAt(0).toUpperCase()+this.invertedSizeProperty.substr(1),this.offsetProperty=this.isVertical?"top":"left",this.offsetEventProperty=this.isVertical?"pageY":"pageX",this.value=this.options.value||0,this.maxValue=this.options.maxValue||0,this.currentSliderSize=0,this.handleSize=0,this.holder=e(this.options.holder),this.scrollbar=e(this.options.scrollbarStructure).appendTo(this.holder),this.btnDec=this.scrollbar.find(this.options.btnDecSelector),this.btnInc=this.scrollbar.find(this.options.btnIncSelector),this.slider=this.scrollbar.find(this.options.sliderSelector),this.handle=this.slider.find(this.options.handleSelector),this.scrollbar.addClass(this.isVertical?this.options.verticalClass:this.options.horizontalClass).css({touchAction:this.isVertical?"pan-x":"pan-y",position:"absolute"}),this.slider.css({position:"relative"}),this.handle.css({touchAction:"none",position:"absolute"})},attachEvents:function(){this.bindHandlers(),this.handle.on("jcf-pointerdown",this.onHandlePress),this.btnDec.add(this.btnInc).on("jcf-pointerdown",this.onButtonPress)},onHandlePress:function(e){"mouse"===e.pointerType&&e.button>1||(e.preventDefault(),this.sliderOffset=this.slider.offset()[this.offsetProperty],this.innerHandleOffset=e[this.offsetEventProperty]-this.handle.offset()[this.offsetProperty],this.doc.on("jcf-pointermove",this.onHandleDrag),this.doc.on("jcf-pointerup",this.onHandleRelease))},onHandleDrag:function(e){e.preventDefault(),this.calcOffset=e[this.offsetEventProperty]-this.sliderOffset-this.innerHandleOffset,this.setValue(this.calcOffset/(this.currentSliderSize-this.handleSize)*this.maxValue),this.triggerScrollEvent(this.value)},onHandleRelease:function(){this.doc.off("jcf-pointermove",this.onHandleDrag),this.doc.off("jcf-pointerup",this.onHandleRelease)},onButtonPress:function(e){var t;"mouse"===e.pointerType&&e.button>1||(e.preventDefault(),t=this.btnDec.is(e.currentTarget)?-1:1,this.startButtonScrolling(t),this.doc.on("jcf-pointerup",this.onButtonRelease))},onButtonRelease:function(){this.stopButtonScrolling(),this.doc.off("jcf-pointerup",this.onButtonRelease)},startButtonScrolling:function(e){var t=this;this.stopButtonScrolling(),this.scrollTimer=setInterval(function(){e>0?t.value+=t.options.scrollStep:t.value-=t.options.scrollStep,t.setValue(t.value),t.triggerScrollEvent(t.value)},this.options.scrollInterval)},stopButtonScrolling:function(){clearInterval(this.scrollTimer)},triggerScrollEvent:function(e){this.options.onScroll&&this.options.onScroll(e)},getThickness:function(){return this.scrollbar[this.thicknessMeasureMethod]()},setSize:function(e){var t=this.btnDec[this.fullSizeProperty](),i=this.btnInc[this.fullSizeProperty]();return this.currentSize=e,this.currentSliderSize=e-t-i,this.scrollbar.css(this.sizeProperty,e),this.slider.css(this.sizeProperty,this.currentSliderSize),this.currentSliderSize=this.slider[this.sizeProperty](),this.handleSize=Math.round(this.currentSliderSize*this.ratio),this.handle.css(this.sizeProperty,this.handleSize),this.handleSize=this.handle[this.sizeProperty](),this},setRatio:function(e){return this.ratio=e,this},setMaxValue:function(e){return this.maxValue=e,this.setValue(Math.min(this.value,this.maxValue)),this},setValue:function(e){this.value=e,this.value<0?this.value=0:this.value>this.maxValue&&(this.value=this.maxValue),this.refresh()},setPosition:function(e){return this.scrollbar.css(e),this},hide:function(){return this.scrollbar.detach(),this},show:function(){return this.scrollbar.appendTo(this.holder),this},refresh:function(){this.calcOffset=0===this.value||0===this.maxValue?0:this.value/this.maxValue*(this.currentSliderSize-this.handleSize),this.handle.css(this.offsetProperty,this.calcOffset),this.btnDec.toggleClass(this.options.inactiveClass,0===this.value),this.btnInc.toggleClass(this.options.inactiveClass,this.value===this.maxValue),this.scrollbar.toggleClass(this.options.inactiveClass,0===this.maxValue)},destroy:function(){this.btnDec.add(this.btnInc).off("jcf-pointerdown",this.onButtonPress),this.handle.off("jcf-pointerdown",this.onHandlePress),this.doc.off("jcf-pointermove",this.onHandleDrag),this.doc.off("jcf-pointerup",this.onHandleRelease),this.doc.off("jcf-pointerup",this.onButtonRelease),clearInterval(this.scrollTimer),this.scrollbar.remove()}})}(jQuery,this),function(e){"use strict";jcf.addModule({name:"File",selector:'input[type="file"]',options:{fakeStructure:'<span class="jcf-file"><span class="jcf-fake-input"></span><span class="jcf-upload-button"><span class="jcf-button-content"></span></span></span>',buttonText:"Choose file",placeholderText:"No file chosen",realElementClass:"jcf-real-element",extensionPrefixClass:"jcf-extension-",selectedFileBlock:".jcf-fake-input",buttonTextBlock:".jcf-button-content"},matchElement:function(e){return e.is('input[type="file"]')},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=e(document),this.realElement=e(this.options.element).addClass(this.options.realElementClass),this.fakeElement=e(this.options.fakeStructure).insertBefore(this.realElement),this.fileNameBlock=this.fakeElement.find(this.options.selectedFileBlock),this.buttonTextBlock=this.fakeElement.find(this.options.buttonTextBlock).text(this.options.buttonText),this.realElement.appendTo(this.fakeElement).css({position:"absolute",opacity:0})},attachEvents:function(){this.realElement.on({"jcf-pointerdown":this.onPress,change:this.onChange,focus:this.onFocus})},onChange:function(){this.refresh()},onFocus:function(){this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur)},onBlur:function(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur)},onPress:function(){this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(){this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getFileName:function(){return this.realElement.val().replace(/^[\s\S]*(?:\\|\/)([\s\S^\\\/]*)$/g,"$1")},getFileExtension:function(){var e=this.realElement.val();return e.lastIndexOf(".")<0?"":e.substring(e.lastIndexOf(".")+1).toLowerCase()},updateExtensionClass:function(){var e=this.getFileExtension(),t=this.fakeElement.prop("className"),i=t.replace(new RegExp("(\\s|^)"+this.options.extensionPrefixClass+"[^ ]+","gi"),"");this.fakeElement.prop("className",i),e&&this.fakeElement.addClass(this.options.extensionPrefixClass+e)},refresh:function(){var e=this.getFileName()||this.options.placeholderText;this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.fileNameBlock.text(e),this.updateExtensionClass()},destroy:function(){this.realElement.insertBefore(this.fakeElement).removeClass(this.options.realElementClass).css({position:"",opacity:""}),this.fakeElement.remove(),this.realElement.off({"jcf-pointerdown":this.onPress,change:this.onChange,focus:this.onFocus,blur:this.onBlur}),this.doc.off("jcf-pointerup",this.onRelease)}})}(jQuery,this),function(e){function t(t){this.options=e.extend({mask:"div.mask",slider:">*",slides:">*",activeClass:"active",disabledClass:"disabled",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:!1,pagerList:"<ul>",pagerListItem:'<li><a href="#"></a></li>',pagerListItemText:"a",pagerLinks:".pagination li",currentNumber:"span.current-num",totalNumber:"span.total-num",btnPlay:".btn-play",btnPause:".btn-pause",btnPlayPause:".btn-play-pause",galleryReadyClass:"gallery-js-ready",autorotationActiveClass:"autorotation-active",autorotationDisabledClass:"autorotation-disabled",stretchSlideToMask:!1,circularRotation:!0,disableWhileAnimating:!1,autoRotation:!1,pauseOnHover:i?!1:!0,maskAutoSize:!1,switchTime:4e3,animSpeed:600,event:"click",swipeThreshold:15,handleTouch:!0,vertical:!1,useTranslate3D:!1,step:!1},t),this.init()}t.prototype={init:function(){this.options.holder&&(this.findElements(),this.attachEvents(),this.refreshPosition(),this.refreshState(!0),this.resumeRotation(),this.makeCallback("onInit",this))},findElements:function(){if(this.fullSizeFunction=this.options.vertical?"outerHeight":"outerWidth",this.innerSizeFunction=this.options.vertical?"height":"width",this.slideSizeFunction="outerHeight",this.maskSizeProperty="height",this.animProperty=this.options.vertical?"marginTop":"marginLeft",this.gallery=e(this.options.holder).addClass(this.options.galleryReadyClass),this.mask=this.gallery.find(this.options.mask),this.slider=this.mask.find(this.options.slider),this.slides=this.slider.find(this.options.slides),this.btnPrev=this.gallery.find(this.options.btnPrev),this.btnNext=this.gallery.find(this.options.btnNext),this.currentStep=0,this.stepsCount=0,this.options.step===!1){var t=this.slides.filter("."+this.options.activeClass);t.length&&(this.currentStep=this.slides.index(t))}this.calculateOffsets(),"string"==typeof this.options.generatePagination?(this.pagerLinks=e(),this.buildPagination()):(this.pagerLinks=this.gallery.find(this.options.pagerLinks),this.attachPaginationEvents()),this.btnPlay=this.gallery.find(this.options.btnPlay),this.btnPause=this.gallery.find(this.options.btnPause),this.btnPlayPause=this.gallery.find(this.options.btnPlayPause),this.curNum=this.gallery.find(this.options.currentNumber),this.allNum=this.gallery.find(this.options.totalNumber)},attachEvents:function(){var t=this;this.bindHandlers(["onWindowResize"]),e(window).bind("load resize orientationchange",this.onWindowResize),this.btnPrev.length&&(this.prevSlideHandler=function(e){e.preventDefault(),t.prevSlide()},this.btnPrev.bind(this.options.event,this.prevSlideHandler)),this.btnNext.length&&(this.nextSlideHandler=function(e){e.preventDefault(),t.nextSlide()},this.btnNext.bind(this.options.event,this.nextSlideHandler)),this.options.pauseOnHover&&!i&&(this.hoverHandler=function(){t.options.autoRotation&&(t.galleryHover=!0,t.pauseRotation())},this.leaveHandler=function(){t.options.autoRotation&&(t.galleryHover=!1,t.resumeRotation())},this.gallery.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler})),this.btnPlay.length&&(this.btnPlayHandler=function(e){e.preventDefault(),t.startRotation()},this.btnPlay.bind(this.options.event,this.btnPlayHandler)),this.btnPause.length&&(this.btnPauseHandler=function(e){e.preventDefault(),t.stopRotation()},this.btnPause.bind(this.options.event,this.btnPauseHandler)),this.btnPlayPause.length&&(this.btnPlayPauseHandler=function(e){e.preventDefault(),t.gallery.hasClass(t.options.autorotationActiveClass)?t.stopRotation():t.startRotation()},this.btnPlayPause.bind(this.options.event,this.btnPlayPauseHandler)),i&&this.options.useTranslate3D&&this.slider.css({"-webkit-transform":"translate3d(0px, 0px, 0px)"}),i&&this.options.handleTouch&&window.Hammer&&this.mask.length&&(this.swipeHandler=Hammer(this.mask[0],{dragBlockHorizontal:!this.options.vertical,dragBlockVertical:this.options.vertical,dragMinDistance:1,behavior:{touchAction:this.options.vertical?"pan-x":"pan-y"}}).on("touch release "+(t.options.vertical?"dragup dragdown":"dragleft dragright"),function(e){switch(e.type){case"touch":t.galleryAnimating?e.gesture.stopDetect():(t.pauseRotation(),t.originalOffset=parseFloat(t.slider.css(t.animProperty)));break;case"dragup":case"dragdown":case"dragleft":case"dragright":e.gesture.preventDefault();var i=t.originalOffset+e.gesture[t.options.vertical?"deltaY":"deltaX"];i=Math.max(Math.min(0,i),t.maxOffset),t.slider.css(t.animProperty,i);break;case"release":t.resumeRotation(),Math.abs(e.gesture[t.options.vertical?"deltaY":"deltaX"])>t.options.swipeThreshold?"left"==e.gesture.direction||"up"==e.gesture.direction?t.nextSlide():t.prevSlide():t.switchSlide()}}))},onWindowResize:function(){this.galleryAnimating?this.resizeQueue=!0:(this.calculateOffsets(),this.refreshPosition(),this.buildPagination(),this.refreshState(),this.resizeQueue=!1)},refreshPosition:function(){this.currentStep=Math.min(this.currentStep,this.stepsCount-1),this.tmpProps={},this.tmpProps[this.animProperty]=this.getStepOffset(),this.slider.stop().css(this.tmpProps)},calculateOffsets:function(){var t,i,s=this;if(this.options.stretchSlideToMask){var n={};n[this.innerSizeFunction]=this.mask[this.innerSizeFunction](),this.slides.css(n)}if(this.maskSize=this.mask[this.innerSizeFunction](),this.sumSize=this.getSumSize(),this.maxOffset=this.maskSize-this.sumSize,this.options.vertical&&this.options.maskAutoSize){this.options.step=1,this.stepsCount=this.slides.length,this.stepOffsets=[0],t=0;for(var o=0;o<this.slides.length;o++)t-=e(this.slides[o])[this.fullSizeFunction](!0),this.stepOffsets.push(t);return this.maxOffset=t,void 0}if("number"==typeof this.options.step&&this.options.step>0)for(this.slideDimensions=[],this.slides.each(e.proxy(function(t,i){s.slideDimensions.push(e(i)[s.fullSizeFunction](!0))},this)),this.stepOffsets=[0],this.stepsCount=1,t=i=0;t>this.maxOffset;)t-=this.getSlideSize(i,i+this.options.step),i+=this.options.step,this.stepOffsets.push(Math.max(t,this.maxOffset)),this.stepsCount++;else for(this.stepSize=this.maskSize,this.stepsCount=1,t=0;t>this.maxOffset;)t-=this.stepSize,this.stepsCount++},getSumSize:function(){var t=0;return this.slides.each(e.proxy(function(i,s){t+=e(s)[this.fullSizeFunction](!0)},this)),this.slider.css(this.innerSizeFunction,t),t},getStepOffset:function(e){return e=e||this.currentStep,"number"==typeof this.options.step?this.stepOffsets[this.currentStep]:Math.min(0,Math.max(-this.currentStep*this.stepSize,this.maxOffset))},getSlideSize:function(e,t){for(var i=0,s=e;s<Math.min(t,this.slideDimensions.length);s++)i+=this.slideDimensions[s];return i},buildPagination:function(){if("string"==typeof this.options.generatePagination&&(this.pagerHolder||(this.pagerHolder=this.gallery.find(this.options.generatePagination)),this.pagerHolder.length&&this.oldStepsCount!=this.stepsCount)){this.oldStepsCount=this.stepsCount,this.pagerHolder.empty(),this.pagerList=e(this.options.pagerList).appendTo(this.pagerHolder);for(var t=0;t<this.stepsCount;t++)e(this.options.pagerListItem).appendTo(this.pagerList).find(this.options.pagerListItemText).text(t+1);this.pagerLinks=this.pagerList.children(),this.attachPaginationEvents()}},attachPaginationEvents:function(){var e=this;this.pagerLinksHandler=function(t){t.preventDefault(),e.numSlide(e.pagerLinks.index(t.currentTarget))},this.pagerLinks.bind(this.options.event,this.pagerLinksHandler)},prevSlide:function(){this.options.disableWhileAnimating&&this.galleryAnimating||(this.currentStep>0?(this.currentStep--,this.switchSlide()):this.options.circularRotation&&(this.currentStep=this.stepsCount-1,this.switchSlide()))},nextSlide:function(e){this.options.disableWhileAnimating&&this.galleryAnimating||(this.currentStep<this.stepsCount-1?(this.currentStep++,this.switchSlide()):(this.options.circularRotation||e===!0)&&(this.currentStep=0,this.switchSlide()))},numSlide:function(e){this.currentStep!=e&&(this.currentStep=e,this.switchSlide())
},switchSlide:function(){var e=this;this.galleryAnimating=!0,this.tmpProps={},this.tmpProps[this.animProperty]=this.getStepOffset(),this.slider.stop().animate(this.tmpProps,{duration:this.options.animSpeed,complete:function(){e.galleryAnimating=!1,e.resizeQueue&&e.onWindowResize(),e.makeCallback("onChange",e),e.autoRotate()}}),this.refreshState(),this.makeCallback("onBeforeChange",this)},refreshState:function(e){(1===this.options.step||this.stepsCount===this.slides.length)&&this.slides.removeClass(this.options.activeClass).eq(this.currentStep).addClass(this.options.activeClass),this.pagerLinks.removeClass(this.options.activeClass).eq(this.currentStep).addClass(this.options.activeClass),this.curNum.html(this.currentStep+1),this.allNum.html(this.stepsCount),this.options.maskAutoSize&&"number"==typeof this.options.step&&(this.tmpProps={},this.tmpProps[this.maskSizeProperty]=this.slides.eq(Math.min(this.currentStep,this.slides.length-1))[this.slideSizeFunction](!0),this.mask.stop()[e?"css":"animate"](this.tmpProps)),this.options.circularRotation||(this.btnPrev.add(this.btnNext).removeClass(this.options.disabledClass),0===this.currentStep&&this.btnPrev.addClass(this.options.disabledClass),this.currentStep===this.stepsCount-1&&this.btnNext.addClass(this.options.disabledClass)),this.gallery.toggleClass("not-enough-slides",this.sumSize<=this.maskSize)},startRotation:function(){this.options.autoRotation=!0,this.galleryHover=!1,this.autoRotationStopped=!1,this.resumeRotation()},stopRotation:function(){this.galleryHover=!0,this.autoRotationStopped=!0,this.pauseRotation()},pauseRotation:function(){this.gallery.addClass(this.options.autorotationDisabledClass),this.gallery.removeClass(this.options.autorotationActiveClass),clearTimeout(this.timer)},resumeRotation:function(){this.autoRotationStopped||(this.gallery.addClass(this.options.autorotationActiveClass),this.gallery.removeClass(this.options.autorotationDisabledClass),this.autoRotate())},autoRotate:function(){var e=this;clearTimeout(this.timer),!this.options.autoRotation||this.galleryHover||this.autoRotationStopped?this.pauseRotation():this.timer=setTimeout(function(){e.nextSlide(!0)},this.options.switchTime)},bindHandlers:function(t){var i=this;e.each(t,function(e,t){var s=i[t];i[t]=function(){return s.apply(i,arguments)}})},makeCallback:function(e){if("function"==typeof this.options[e]){var t=Array.prototype.slice.call(arguments);t.shift(),this.options[e].apply(this,t)}},destroy:function(){e(window).unbind("load resize orientationchange",this.onWindowResize),this.btnPrev.unbind(this.options.event,this.prevSlideHandler),this.btnNext.unbind(this.options.event,this.nextSlideHandler),this.pagerLinks.unbind(this.options.event,this.pagerLinksHandler),this.gallery.unbind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler}),this.stopRotation(),this.btnPlay.unbind(this.options.event,this.btnPlayHandler),this.btnPause.unbind(this.options.event,this.btnPauseHandler),this.btnPlayPause.unbind(this.options.event,this.btnPlayPauseHandler),this.swipeHandler&&this.swipeHandler.dispose();var t=[this.options.galleryReadyClass,this.options.autorotationActiveClass,this.options.autorotationDisabledClass];this.gallery.removeClass(t.join(" ")),this.slider.add(this.slides).removeAttr("style"),"string"==typeof this.options.generatePagination&&this.pagerHolder.empty()}};var i=/MSIE 10.*Touch/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;e.fn.scrollGallery=function(i){return this.each(function(){e(this).data("ScrollGallery",new t(e.extend(i,{holder:this})))})}}(jQuery),function(e){function t(t){this.options=e.extend({addClassBeforeAnimation:!0,hideOnClickOutside:!1,activeClass:"active",opener:".opener",slider:".slide",animSpeed:400,effect:"fade",event:"click"},t),this.init()}t.prototype={init:function(){this.options.holder&&(this.findElements(),this.attachEvents(),this.makeCallback("onInit",this))},findElements:function(){this.holder=e(this.options.holder),this.opener=this.holder.find(this.options.opener),this.slider=this.holder.find(this.options.slider)},attachEvents:function(){var t=this;this.eventHandler=function(e){e.preventDefault(),t.slider.hasClass(i)?t.showSlide():t.hideSlide()},t.opener.bind(t.options.event,this.eventHandler),"over"===t.options.event&&(t.opener.bind("mouseenter",function(){t.showSlide()}),t.holder.bind("mouseleave",function(){t.hideSlide()})),t.outsideClickHandler=function(i){if(t.options.hideOnClickOutside){var s=e(i.target);s.is(t.holder)||s.closest(t.holder).length||t.hideSlide()}},this.holder.hasClass(this.options.activeClass)?e(document).bind("click touchstart",t.outsideClickHandler):this.slider.addClass(i)},showSlide:function(){var t=this;t.options.addClassBeforeAnimation&&t.holder.addClass(t.options.activeClass),t.slider.removeClass(i),e(document).bind("click touchstart",t.outsideClickHandler),t.makeCallback("animStart",!0),s[t.options.effect].show({box:t.slider,speed:t.options.animSpeed,complete:function(){t.options.addClassBeforeAnimation||t.holder.addClass(t.options.activeClass),t.makeCallback("animEnd",t,!0)}})},hideSlide:function(){var t=this;t.options.addClassBeforeAnimation&&t.holder.removeClass(t.options.activeClass),e(document).unbind("click touchstart",t.outsideClickHandler),t.makeCallback("animStart",!1),s[t.options.effect].hide({box:t.slider,speed:t.options.animSpeed,complete:function(){t.options.addClassBeforeAnimation||t.holder.removeClass(t.options.activeClass),t.slider.addClass(i),t.makeCallback("animEnd",t,!1)}})},destroy:function(){this.slider.removeClass(i).css({display:""}),this.opener.unbind(this.options.event,this.eventHandler),this.holder.removeClass(this.options.activeClass).removeData("OpenClose"),e(document).unbind("click touchstart",this.outsideClickHandler)},makeCallback:function(e){if("function"==typeof this.options[e]){var t=Array.prototype.slice.call(arguments);t.shift(),this.options[e].apply(this,t)}}};var i="js-slide-hidden";e(function(){var t=e('<style type="text/css">')[0],s="."+i;s+="{position:absolute !important;left:-9999px !important;top:-9999px !important;display:block !important}",t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s)),e("head").append(t)});var s={slide:{show:function(e){e.box.stop(!0).hide().slideDown(e.speed,e.complete)},hide:function(e){e.box.stop(!0).slideUp(e.speed,e.complete)}},fade:{show:function(e){e.box.stop(!0).hide().fadeIn(e.speed,e.complete)},hide:function(e){e.box.stop(!0).fadeOut(e.speed,e.complete)}},none:{show:function(e){e.box.hide().show(0,e.complete)},hide:function(e){e.box.hide(0,e.complete)}}};e.fn.openClose=function(i){return this.each(function(){jQuery(this).data("OpenClose",new t(e.extend(i,{holder:this})))})}}(jQuery),function(){jQuery.fn.fixedSlideBlock=function(i){var i=jQuery.extend({slideBlock:"#sidebar",alwaysStick:!0,animDelay:100,animSpeed:250,extraHeight:0,positionType:"auto"},i);return this.each(function(){function s(){var e=f.attr("style");f.css({position:"",left:"",top:""}),h={winHeight:u.height(),scrollTop:u.scrollTop(),scrollLeft:u.scrollLeft(),holderOffset:p.offset(),holderHeight:p.height(),blockPosition:f.position(),blockOffset:f.offset(),blockHeight:f.outerHeight(!0)},f.attr("style",e),d!==h.holderHeight&&(d=h.holderHeight,c=n())}function n(){var e=f.attr("style"),t=h.holderHeight;f.css({position:"absolute"});var i=p.height();return t>i?(f.css({position:"",top:"",left:""}),!0):(f.attr("style",e),void 0)}function o(){h.scrollTop>h.blockOffset.top-i.extraHeight?h.scrollTop+i.extraHeight-h.holderOffset.top+h.blockHeight>h.holderHeight?f.css({position:"absolute",left:h.blockPosition.left,top:h.blockPosition.top+h.holderHeight-h.blockHeight-(h.blockOffset.top-h.holderOffset.top)}):f.css({position:"fixed",left:h.blockOffset.left-h.scrollLeft,top:i.extraHeight}):f.css({position:"",top:"",left:""})}function r(e){var t=h.blockPosition.top;h.scrollTop>h.blockOffset.top-i.extraHeight&&(t=h.scrollTop+i.extraHeight-h.holderOffset.top+h.blockHeight>h.holderHeight?h.blockPosition.top+h.holderHeight-h.blockHeight-(h.blockOffset.top-h.holderOffset.top):h.blockPosition.top+h.scrollTop-h.blockOffset.top+i.extraHeight),f.stop().css({position:"absolute",left:h.blockPosition.left}),e===!0?f.css({top:t}):f.animate({top:t},{duration:i.animSpeed})}function a(e){var t=e===!0;return s(),c?void 0:!i.alwaysStick&&h.winHeight<h.blockHeight?(f.css({position:"",top:"",left:""}),void 0):("fixed"===m?o():(t&&r(t),clearTimeout(l),l=setTimeout(r,i.animDelay)),void 0)}var l,h,c,d,u=jQuery(window),p=jQuery(this),f=p.find(i.slideBlock),m=i.positionType;f.length&&("auto"===m&&(m=!t||e?"absolute":"fixed"),setTimeout(function(){a(!0),u.bind("scroll",a),u.bind("resize orientationchange",function(){a(!0)})},10))})};var e=function(){try{return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}catch(e){return!1}}(),t=function(){var e=!1,t=document.createElement("div"),i=document.createElement("div");return t.style.cssText="position:absolute;top:9px;left:9px;width:100px;height:100px;background:red;",i.style.cssText="position:fixed;top:7px;width:1px;height:1px;",t.appendChild(i),document.documentElement.insertBefore(t,document.documentElement.childNodes[0]),e=7==i.offsetTop||-2==i.offsetTop||!i.offsetWidth&&"undefined"!=typeof document.documentElement.style.maxHeight,document.documentElement.removeChild(t),i=t=null,e}()}(),function(e,t,i){function s(e){var t={},s=/^jQuery\d+$/;return i.each(e.attributes,function(e,i){i.specified&&!s.test(i.name)&&(t[i.name]=i.value)}),t}function n(e,t){var s=this,n=i(s);if(s.value==n.attr("placeholder")&&n.hasClass("placeholder"))if(n.data("placeholder-password")){if(n=n.hide().next().show().attr("id",n.removeAttr("id").data("placeholder-id")),e===!0)return n[0].value=t;n.focus()}else s.value="",n.removeClass("placeholder"),s==r()&&s.select()}function o(){var e,t=this,o=i(t),r=this.id;if(""==t.value){if("password"==t.type){if(!o.data("placeholder-textinput")){try{e=o.clone().attr({type:"text"})}catch(a){e=i("<input>").attr(i.extend(s(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":o,"placeholder-id":r}).bind("focus.placeholder",n),o.data({"placeholder-textinput":e,"placeholder-id":r}).before(e)}o=o.removeAttr("id").hide().prev().attr("id",r).show()}o.addClass("placeholder"),o[0].value=o.attr("placeholder")}else o.removeClass("placeholder")}function r(){try{return t.activeElement}catch(e){}}var a,l,h="[object OperaMini]"==Object.prototype.toString.call(e.operamini),c="placeholder"in t.createElement("input")&&!h,d="placeholder"in t.createElement("textarea")&&!h,u=i.fn,p=i.valHooks,f=i.propHooks;c&&d?(l=u.placeholder=function(){return this},l.input=l.textarea=!0):(l=u.placeholder=function(){var e=this;return e.filter((c?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":n,"blur.placeholder":o}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},l.input=c,l.textarea=d,a={get:function(e){var t=i(e),s=t.data("placeholder-password");return s?s[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var s=i(e),a=s.data("placeholder-password");return a?a[0].value=t:s.data("placeholder-enabled")?(""==t?(e.value=t,e!=r()&&o.call(e)):s.hasClass("placeholder")?n.call(e,!0,t)||(e.value=t):e.value=t,s):e.value=t}},c||(p.input=a,f.value=a),d||(p.textarea=a,f.value=a),i(function(){i(t).delegate("form","submit.placeholder",function(){var e=i(".placeholder",this).each(n);setTimeout(function(){e.each(o)},10)})}),i(e).bind("beforeunload.placeholder",function(){i(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(e){function t(t){this.options=e.extend({activeClass:"active",mask:"div.slides-mask",slider:">ul",slides:">li",btnPrev:".btn-prev",btnNext:".btn-next",pagerLinks:"ul.pager > li",generatePagination:!1,pagerList:"<ul>",pagerListItem:'<li><a href="#"></a></li>',pagerListItemText:"a",galleryReadyClass:"gallery-js-ready",currentNumber:"span.current-num",totalNumber:"span.total-num",maskAutoSize:!1,autoRotation:!1,pauseOnHover:!1,stretchSlideToMask:!1,switchTime:3e3,animSpeed:500,handleTouch:!0,swipeThreshold:15,vertical:!1},t),this.init()}t.prototype={init:function(){this.options.holder&&(this.findElements(),this.attachEvents(),this.makeCallback("onInit",this))},findElements:function(){this.holder=e(this.options.holder).addClass(this.options.galleryReadyClass),this.mask=this.holder.find(this.options.mask),this.slider=this.mask.find(this.options.slider),this.slides=this.slider.find(this.options.slides),this.btnPrev=this.holder.find(this.options.btnPrev),this.btnNext=this.holder.find(this.options.btnNext),this.slides.each(function(e){jQuery(this).attr("cur-index",e)}),this.currentNumber=this.holder.find(this.options.currentNumber),this.totalNumber=this.holder.find(this.options.totalNumber),this.pagerLinks="string"==typeof this.options.generatePagination?this.buildPagination():this.holder.find(this.options.pagerLinks),this.sizeProperty=this.options.vertical?"height":"width",this.positionProperty=this.options.vertical?"top":"left",this.animProperty=this.options.vertical?"marginTop":"marginLeft",this.slideSize=this.slides[this.sizeProperty](),this.currentIndex=0,this.prevIndex=0,this.options.maskAutoSize=this.options.vertical?!1:this.options.maskAutoSize,this.options.vertical&&this.mask.css({height:this.slides.innerHeight()}),this.options.maskAutoSize&&this.mask.css({height:this.slider.height()}),this.slider.css({position:"relative",height:this.options.vertical?this.slideSize*this.slides.length:"100%"}),this.slides.css({position:"absolute"}).css(this.positionProperty,-9999).eq(this.currentIndex).css(this.positionProperty,0),this.refreshState()},buildPagination:function(){var t=e();if(this.pagerHolder||(this.pagerHolder=this.holder.find(this.options.generatePagination)),this.pagerHolder.length){this.pagerHolder.empty(),this.pagerList=e(this.options.pagerList).appendTo(this.pagerHolder);for(var i=0;i<this.slides.length;i++)e(this.options.pagerListItem).appendTo(this.pagerList).find(this.options.pagerListItemText).text(i+1);t=this.pagerList.children()}return t},attachEvents:function(){var t=this;this.btnPrev.length&&(this.btnPrevHandler=function(e){e.preventDefault(),t.prevSlide()},this.btnPrev.click(this.btnPrevHandler)),this.btnNext.length&&(this.btnNextHandler=function(e){e.preventDefault(),t.nextSlide()},this.btnNext.click(this.btnNextHandler)),this.pagerLinks.length&&(this.pagerLinksHandler=function(e){e.preventDefault(),t.numSlide(+jQuery(this).attr("cur-index"))},this.pagerLinks.click(this.pagerLinksHandler)),this.options.pauseOnHover&&(this.hoverHandler=function(){clearTimeout(t.timer)},this.leaveHandler=function(){t.autoRotate()},this.holder.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler})),this.resizeHandler=function(){t.animating||(t.options.stretchSlideToMask&&t.resizeSlides(),t.resizeHolder(),t.setSlidesPosition(t.currentIndex))},e(window).bind("load resize orientationchange",this.resizeHandler),t.options.stretchSlideToMask&&t.resizeSlides(),this.options.handleTouch&&window.Hammer&&this.mask.length&&this.slides.length>1&&i&&(this.swipeHandler=Hammer(this.mask[0],{dragBlockHorizontal:!this.options.vertical,dragBlockVertical:this.options.vertical,dragMinDistance:1,behavior:{touchAction:this.options.vertical?"pan-x":"pan-y"}}).on("touch release "+(t.options.vertical?"dragup dragdown":"dragleft dragright"),function(e){switch(e.type){case"touch":t.animating?e.gesture.stopDetect():clearTimeout(t.timer);break;case"dragup":case"dragdown":case"dragleft":case"dragright":e.gesture.preventDefault(),t.swipeOffset=-t.slideSize+e.gesture[t.options.vertical?"deltaY":"deltaX"],t.slider.css(t.animProperty,t.swipeOffset),clearTimeout(t.timer);break;case"release":if(Math.abs(e.gesture[t.options.vertical?"deltaY":"deltaX"])>t.options.swipeThreshold)"left"==e.gesture.direction||"up"==e.gesture.direction?t.nextSlide():t.prevSlide();else{var i={};i[t.animProperty]=-t.slideSize,t.slider.animate(i,{duration:t.options.animSpeed}),t.autoRotate()}t.swipeOffset=0}})),this.autoRotate(),this.resizeHolder(),this.setSlidesPosition(this.currentIndex)},resizeSlides:function(){this.slideSize=this.mask[this.options.vertical?"height":"width"](),this.slides.css(this.sizeProperty,this.slideSize)},resizeHolder:function(){this.options.maskAutoSize&&this.mask.css({height:this.slides.eq(this.currentIndex).outerHeight(!0)})},prevSlide:function(){!this.animating&&this.slides.length>1&&(this.direction=-1,this.prevIndex=this.currentIndex,this.currentIndex>0?this.currentIndex--:this.currentIndex=this.slides.length-1,this.switchSlide())},nextSlide:function(){!this.animating&&this.slides.length>1&&(this.direction=1,this.prevIndex=this.currentIndex,this.currentIndex<this.slides.length-1?this.currentIndex++:this.currentIndex=0,this.switchSlide())},numSlide:function(e){!this.animating&&this.currentIndex!==e&&this.slides.length>1&&(this.direction=e>this.currentIndex?1:-1,this.prevIndex=this.currentIndex,this.currentIndex=e,this.switchSlide())},preparePosition:function(){this.setSlidesPosition(this.prevIndex,this.direction<0?this.currentIndex:null,this.direction>0?this.currentIndex:null,this.direction)},setSlidesPosition:function(e,t,i,s){if(this.slides.length>1){var n="number"==typeof t?t:e>0?e-1:this.slides.length-1,o="number"==typeof i?i:e<this.slides.length-1?e+1:0;if(this.slider.css(this.animProperty,this.swipeOffset?this.swipeOffset:-this.slideSize),this.slides.css(this.positionProperty,-9999).eq(e).css(this.positionProperty,this.slideSize),n===o&&"number"==typeof s){var r=s>0?2*this.slideSize:0;this.slides.eq(o).css(this.positionProperty,r)}else this.slides.eq(n).css(this.positionProperty,0),this.slides.eq(o).css(this.positionProperty,2*this.slideSize)}},switchSlide:function(){var e=this;this.slides.eq(this.prevIndex);var t=this.slides.eq(this.currentIndex);this.animating=!0,this.options.maskAutoSize&&this.mask.animate({height:t.outerHeight(!0)},{duration:this.options.animSpeed});var i={};i[this.animProperty]=this.direction>0?2*-this.slideSize:0,this.preparePosition(),this.slider.animate(i,{duration:this.options.animSpeed,complete:function(){e.setSlidesPosition(e.currentIndex),e.animating=!1,e.autoRotate(),e.makeCallback("onChange",e)}}),this.refreshState(),this.makeCallback("onBeforeChange",this)},refreshState:function(){var e=this;this.slides.removeClass(e.options.activeClass).each(function(){+jQuery(this).attr("cur-index")==e.currentIndex&&jQuery(this).addClass(e.options.activeClass)}),jQuery(".thumbs-mask").find("li").removeClass(e.options.activeClass).each(function(){+jQuery(this).attr("cur-index")==e.currentIndex&&jQuery(this).addClass(e.options.activeClass)}),this.currentNumber.html(parseFloat(this.currentIndex)+1),this.totalNumber.html(this.slides.length),this.holder.toggleClass("not-enough-slides",1===this.slides.length)},autoRotate:function(){var e=this;clearTimeout(this.timer),this.options.autoRotation&&(this.timer=setTimeout(function(){e.nextSlide()},this.options.switchTime))},makeCallback:function(e){if("function"==typeof this.options[e]){var t=Array.prototype.slice.call(arguments);t.shift(),this.options[e].apply(this,t)}},destroy:function(){this.btnPrev.unbind("click",this.btnPrevHandler),this.btnNext.unbind("click",this.btnNextHandler),this.pagerLinks.unbind("click",this.pagerLinksHandler),this.holder.unbind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler}),e(window).unbind("load resize orientationchange",this.resizeHandler),clearTimeout(this.timer),this.swipeHandler&&this.swipeHandler.dispose(),this.holder.removeClass(this.options.galleryReadyClass),this.slider.add(this.slides).removeAttr("style"),"string"==typeof this.options.generatePagination&&this.pagerHolder.empty()}};var i=/MSIE 10.*Touch/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;e.fn.scrollAbsoluteGallery=function(i){return this.each(function(){e(this).data("ScrollAbsoluteGallery",new t(e.extend(i,{holder:this})))})}}(jQuery),!function(e,t){"use strict";function i(){s.READY||(b.determineEventTypes(),g.each(s.gestures,function(e){S.register(e)}),b.onTouch(s.DOCUMENT,p,S.detect),b.onTouch(s.DOCUMENT,f,S.detect),s.READY=!0)}var s=function E(e,t){return new E.Instance(e,t||{})};s.VERSION="1.1.3",s.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},s.DOCUMENT=document,s.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,s.HAS_TOUCHEVENTS="ontouchstart"in e,s.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),s.NO_MOUSEEVENTS=s.HAS_TOUCHEVENTS&&s.IS_MOBILE||s.HAS_POINTEREVENTS,s.CALCULATE_INTERVAL=25;var n={},o=s.DIRECTION_DOWN="down",r=s.DIRECTION_LEFT="left",a=s.DIRECTION_UP="up",l=s.DIRECTION_RIGHT="right",h=s.POINTER_MOUSE="mouse",c=s.POINTER_TOUCH="touch",d=s.POINTER_PEN="pen",u=s.EVENT_START="start",p=s.EVENT_MOVE="move",f=s.EVENT_END="end",m=s.EVENT_RELEASE="release",v=s.EVENT_TOUCH="touch";s.READY=!1,s.plugins=s.plugins||{},s.gestures=s.gestures||{};var g=s.utils={extend:function(e,i,s){for(var n in i)!i.hasOwnProperty(n)||e[n]!==t&&s||(e[n]=i[n]);return e},on:function(e,t,i){e.addEventListener(t,i,!1)},off:function(e,t,i){e.removeEventListener(t,i,!1)},each:function(e,i,s){var n,o;if("forEach"in e)e.forEach(i,s);else if(e.length!==t){for(n=0,o=e.length;o>n;n++)if(i.call(s,e[n],n,e)===!1)return}else for(n in e)if(e.hasOwnProperty(n)&&i.call(s,e[n],n,e)===!1)return},inStr:function(e,t){return e.indexOf(t)>-1},inArray:function(e,t){if(e.indexOf){var i=e.indexOf(t);return-1===i?!1:i}for(var s=0,n=e.length;n>s;s++)if(e[s]===t)return s;return!1},toArray:function(e){return Array.prototype.slice.call(e,0)},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){var t=[],i=[],s=[],n=[],o=Math.min,r=Math.max;return 1===e.length?{pageX:e[0].pageX,pageY:e[0].pageY,clientX:e[0].clientX,clientY:e[0].clientY}:(g.each(e,function(e){t.push(e.pageX),i.push(e.pageY),s.push(e.clientX),n.push(e.clientY)}),{pageX:(o.apply(Math,t)+r.apply(Math,t))/2,pageY:(o.apply(Math,i)+r.apply(Math,i))/2,clientX:(o.apply(Math,s)+r.apply(Math,s))/2,clientY:(o.apply(Math,n)+r.apply(Math,n))/2})},getVelocity:function(e,t,i){return{x:Math.abs(t/e)||0,y:Math.abs(i/e)||0}},getAngle:function(e,t){var i=t.clientX-e.clientX,s=t.clientY-e.clientY;return 180*Math.atan2(s,i)/Math.PI},getDirection:function(e,t){var i=Math.abs(e.clientX-t.clientX),s=Math.abs(e.clientY-t.clientY);return i>=s?e.clientX-t.clientX>0?r:l:e.clientY-t.clientY>0?a:o},getDistance:function(e,t){var i=t.clientX-e.clientX,s=t.clientY-e.clientY;return Math.sqrt(i*i+s*s)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==a||e==o},setPrefixedCss:function(e,t,i,s){var n=["","Webkit","Moz","O","ms"];t=g.toCamelCase(t);for(var o=0;o<n.length;o++){var r=t;if(n[o]&&(r=n[o]+r.slice(0,1).toUpperCase()+r.slice(1)),r in e.style){e.style[r]=(null==s||s)&&i||"";break}}},toggleBehavior:function(e,t,i){if(t&&e&&e.style){g.each(t,function(t,s){g.setPrefixedCss(e,s,t,i)});var s=i&&function(){return!1};"none"==t.userSelect&&(e.onselectstart=s),"none"==t.userDrag&&(e.ondragstart=s)}},toCamelCase:function(e){return e.replace(/[_-]([a-z])/g,function(e){return e[1].toUpperCase()})}},b=s.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(e,t,i,s){var n=t.split(" ");g.each(n,function(t){g.on(e,t,i),s&&s(t)})},off:function(e,t,i,s){var n=t.split(" ");g.each(n,function(t){g.off(e,t,i),s&&s(t)})},onTouch:function(e,t,i){var o=this,r=function(n){var r,a=n.type.toLowerCase(),l=s.HAS_POINTEREVENTS,h=g.inStr(a,"mouse");h&&o.preventMouseEvents||(h&&t==u&&0===n.button?(o.preventMouseEvents=!1,o.shouldDetect=!0):l&&t==u?o.shouldDetect=1===n.buttons||y.matchType(c,n):h||t!=u||(o.preventMouseEvents=!0,o.shouldDetect=!0),l&&t!=f&&y.updatePointer(t,n),o.shouldDetect&&(r=o.doDetect.call(o,n,t,e,i)),r==f&&(o.preventMouseEvents=!1,o.shouldDetect=!1,y.reset()),l&&t==f&&y.updatePointer(t,n))};return this.on(e,n[t],r),r},doDetect:function(e,t,i,s){var n=this.getTouchList(e,t),o=n.length,r=t,a=n.trigger,l=o;t==u?a=v:t==f&&(a=m,l=n.length-(e.changedTouches?e.changedTouches.length:1)),l>0&&this.started&&(r=p),this.started=!0;var h=this.collectEventData(i,r,n,e);return t!=f&&s.call(S,h),a&&(h.changedLength=l,h.eventType=a,s.call(S,h),h.eventType=r,delete h.changedLength),r==f&&(s.call(S,h),this.started=!1),r},determineEventTypes:function(){var t;return t=s.HAS_POINTEREVENTS?e.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:s.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],n[u]=t[0],n[p]=t[1],n[f]=t[2],n},getTouchList:function(e,t){if(s.HAS_POINTEREVENTS&&(!navigator.msPointerEnabled||navigator.pointerEnabled))return y.getTouchList();if(e.touches){if(t==p)return e.touches;var i=[],n=[].concat(g.toArray(e.touches),g.toArray(e.changedTouches)),o=[];return g.each(n,function(e){g.inArray(i,e.identifier)===!1&&o.push(e),i.push(e.identifier)}),o}return e.identifier=1,[e]},collectEventData:function(e,t,i,s){var n=c;return g.inStr(s.type,"mouse")||y.matchType(h,s)?n=h:y.matchType(d,s)&&(n=d),{center:g.getCenter(i),timeStamp:Date.now(),target:s.target,touches:i,eventType:t,pointerType:n,srcEvent:s,preventDefault:function(){var e=this.srcEvent;e.preventManipulation&&e.preventManipulation(),e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return S.stopDetect()}}}},y=s.PointerEvent={pointers:{},getTouchList:function(){var e=[];return g.each(this.pointers,function(t){e.push(t)}),e},updatePointer:function(e,t){e==f||e!=f&&1!==t.buttons?delete this.pointers[t.pointerId]:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t)},matchType:function(e,t){if(!t.pointerType)return!1;var i=t.pointerType,s={};return s[h]=i===(t.MSPOINTER_TYPE_MOUSE||h),s[c]=i===(t.MSPOINTER_TYPE_TOUCH||c),s[d]=i===(t.MSPOINTER_TYPE_PEN||d),s[e]},reset:function(){this.pointers={}}},S=s.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:g.extend({},t),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);var t=this.current.inst,i=t.options;return g.each(this.gestures,function(s){!this.stopped&&t.enabled&&i[s.name]&&s.handler.call(s,e,t)},this),this.current&&(this.current.lastEvent=e),e.eventType==f&&this.stopDetect(),e}},stopDetect:function(){this.previous=g.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(e,t,i,n,o){var r=this.current,a=!1,l=r.lastCalcEvent,h=r.lastCalcData;l&&e.timeStamp-l.timeStamp>s.CALCULATE_INTERVAL&&(t=l.center,i=e.timeStamp-l.timeStamp,n=e.center.clientX-l.center.clientX,o=e.center.clientY-l.center.clientY,a=!0),(e.eventType==v||e.eventType==m)&&(r.futureCalcEvent=e),(!r.lastCalcEvent||a)&&(h.velocity=g.getVelocity(i,n,o),h.angle=g.getAngle(t,e.center),h.direction=g.getDirection(t,e.center),r.lastCalcEvent=r.futureCalcEvent||e,r.futureCalcEvent=e),e.velocityX=h.velocity.x,e.velocityY=h.velocity.y,e.interimAngle=h.angle,e.interimDirection=h.direction},extendEventData:function(e){var t=this.current,i=t.startEvent,s=t.lastEvent||i;(e.eventType==v||e.eventType==m)&&(i.touches=[],g.each(e.touches,function(e){i.touches.push({clientX:e.clientX,clientY:e.clientY})}));var n=e.timeStamp-i.timeStamp,o=e.center.clientX-i.center.clientX,r=e.center.clientY-i.center.clientY;return this.getCalculatedData(e,s.center,n,o,r),g.extend(e,{startEvent:i,deltaTime:n,deltaX:o,deltaY:r,distance:g.getDistance(i.center,e.center),angle:g.getAngle(i.center,e.center),direction:g.getDirection(i.center,e.center),scale:g.getScale(i.touches,e.touches),rotation:g.getRotation(i.touches,e.touches)}),e},register:function(e){var i=e.defaults||{};return i[e.name]===t&&(i[e.name]=!0),g.extend(s.defaults,i,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}};s.Instance=function(e,t){var n=this;i(),this.element=e,this.enabled=!0,g.each(t,function(e,i){delete t[i],t[g.toCamelCase(i)]=e}),this.options=g.extend(g.extend({},s.defaults),t||{}),this.options.behavior&&g.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=b.onTouch(e,u,function(e){n.enabled&&e.eventType==u?S.startDetect(n,e):e.eventType==v&&S.detect(e)}),this.eventHandlers=[]},s.Instance.prototype={on:function(e,t){var i=this;return b.on(i.element,e,t,function(e){i.eventHandlers.push({gesture:e,handler:t})}),i},off:function(e,t){var i=this;return b.off(i.element,e,t,function(e){var s=g.inArray({gesture:e,handler:t});s!==!1&&i.eventHandlers.splice(s,1)}),i},trigger:function(e,t){t||(t={});var i=s.DOCUMENT.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t;var n=this.element;return g.hasParent(t.target,n)&&(n=t.target),n.dispatchEvent(i),this},enable:function(e){return this.enabled=e,this},dispose:function(){var e,t;for(g.toggleBehavior(this.element,this.options.behavior,!1),e=-1;t=this.eventHandlers[++e];)g.off(this.element,t.gesture,t.handler);return this.eventHandlers=[],b.off(this.element,n[u],this.eventStartHandler),null}},function(e){function t(t,s){var n=S.current;if(!(s.options.dragMaxTouches>0&&t.touches.length>s.options.dragMaxTouches))switch(t.eventType){case u:i=!1;break;case p:if(t.distance<s.options.dragMinDistance&&n.name!=e)return;var h=n.startEvent.center;if(n.name!=e&&(n.name=e,s.options.dragDistanceCorrection&&t.distance>0)){var c=Math.abs(s.options.dragMinDistance/t.distance);h.pageX+=t.deltaX*c,h.pageY+=t.deltaY*c,h.clientX+=t.deltaX*c,h.clientY+=t.deltaY*c,t=S.extendEventData(t)}(n.lastEvent.dragLockToAxis||s.options.dragLockToAxis&&s.options.dragLockMinDistance<=t.distance)&&(t.dragLockToAxis=!0);var d=n.lastEvent.direction;t.dragLockToAxis&&d!==t.direction&&(t.direction=g.isVertical(d)?t.deltaY<0?a:o:t.deltaX<0?r:l),i||(s.trigger(e+"start",t),i=!0),s.trigger(e,t),s.trigger(e+t.direction,t);var v=g.isVertical(t.direction);(s.options.dragBlockVertical&&v||s.options.dragBlockHorizontal&&!v)&&t.preventDefault();break;case m:i&&t.changedLength<=s.options.dragMaxTouches&&(s.trigger(e+"end",t),i=!1);break;case f:i=!1}}var i=!1;s.gestures.Drag={name:e,index:50,handler:t,defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}}("drag"),s.gestures.Gesture={name:"gesture",index:1337,handler:function(e,t){t.trigger(this.name,e)}},function(e){function t(t,s){var n=s.options,o=S.current;switch(t.eventType){case u:clearTimeout(i),o.name=e,i=setTimeout(function(){o&&o.name==e&&s.trigger(e,t)},n.holdTimeout);break;case p:t.distance>n.holdThreshold&&clearTimeout(i);break;case m:clearTimeout(i)}}var i;s.gestures.Hold={name:e,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:t}}("hold"),s.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==m&&t.trigger(this.name,e)}},s.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(e,t){if(e.eventType==m){var i=e.touches.length,s=t.options;if(i<s.swipeMinTouches||i>s.swipeMaxTouches)return;(e.velocityX>s.swipeVelocityX||e.velocityY>s.swipeVelocityY)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))
}}},function(e){function t(t,s){var n,o,r=s.options,a=S.current,l=S.previous;switch(t.eventType){case u:i=!1;break;case p:i=i||t.distance>r.tapMaxDistance;break;case f:!g.inStr(t.srcEvent.type,"cancel")&&t.deltaTime<r.tapMaxTime&&!i&&(n=l&&l.lastEvent&&t.timeStamp-l.lastEvent.timeStamp,o=!1,l&&l.name==e&&n&&n<r.doubleTapInterval&&t.distance<r.doubleTapDistance&&(s.trigger("doubletap",t),o=!0),(!o||r.tapAlways)&&(a.name=e,s.trigger(a.name,t)))}}var i=!1;s.gestures.Tap={name:e,index:100,handler:t,defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}("tap"),s.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(e,t){return t.options.preventMouse&&e.pointerType==h?void e.stopDetect():(t.options.preventDefault&&e.preventDefault(),void(e.eventType==v&&t.trigger("touch",e)))}},function(e){function t(t,s){switch(t.eventType){case u:i=!1;break;case p:if(t.touches.length<2)return;var n=Math.abs(1-t.scale),o=Math.abs(t.rotation);if(n<s.options.transformMinScale&&o<s.options.transformMinRotation)return;S.current.name=e,i||(s.trigger(e+"start",t),i=!0),s.trigger(e,t),o>s.options.transformMinRotation&&s.trigger("rotate",t),n>s.options.transformMinScale&&(s.trigger("pinch",t),s.trigger("pinch"+(t.scale<1?"in":"out"),t));break;case m:i&&t.changedLength<2&&(s.trigger(e+"end",t),i=!1)}}var i=!1;s.gestures.Transform={name:e,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:t}}("transform"),"function"==typeof define&&define.amd?define(function(){return s}):"undefined"!=typeof module&&module.exports?module.exports=s:e.Hammer=s}(window),function(e){e.fn.fitVids=function(t){var i={customSelector:null};if(!document.getElementById("fit-vids-style")){var s=document.createElement("div"),n=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],o="&shy;<style>.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>";s.className="fit-vids-style",s.id="fit-vids-style",s.style.display="none",s.innerHTML=o,n.parentNode.insertBefore(s,n)}return t&&e.extend(i,t),this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];i.customSelector&&t.push(i.customSelector);var s=e(this).find(t.join(","));s=s.not("object object"),s.each(function(){var t=e(this);if(!("embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){var i="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),s=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),n=i/s;if(!t.attr("id")){var o="fitvid"+Math.floor(999999*Math.random());t.attr("id",o)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*n+"%"),t.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),window.matchMedia=window.matchMedia||function(e){var t,i=e.documentElement,s=i.firstElementChild||i.firstChild,n=e.createElement("body"),o=e.createElement("div");return o.id="mq-test-1",o.style.cssText="position:absolute;top:-100em",n.appendChild(o),function(e){return o.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(n,s),t=42==o.offsetWidth,i.removeChild(n),{matches:t,media:e}}}(document),function(e){e.picturefill=function(){for(var t=e.document.getElementsByTagName("span"),i=0,s=t.length;s>i;i++)if(null!==t[i].getAttribute("data-picture")){for(var n=t[i].getElementsByTagName("span"),o=[],r=0,a=n.length;a>r;r++){var l=n[r].getAttribute("data-media");(!l||e.matchMedia&&e.matchMedia(l).matches)&&o.push(n[r])}var h=t[i].getElementsByTagName("img")[0];if(o.length){var c=o.pop();h&&"NOSCRIPT"!==h.parentNode.nodeName||(h=e.document.createElement("img"),h.alt=t[i].getAttribute("data-alt")),c.getAttribute("data-width")?h.setAttribute("width",c.getAttribute("data-width")):h.removeAttribute("width"),c.getAttribute("data-height")?h.setAttribute("height",c.getAttribute("data-height")):h.removeAttribute("height"),h.src=c.getAttribute("data-src"),c.appendChild(h)}else h&&h.parentNode.removeChild(h)}},e.addEventListener?(e.addEventListener("resize",e.picturefill,!1),e.addEventListener("DOMContentLoaded",function(){e.picturefill(),e.removeEventListener("load",e.picturefill,!1)},!1),e.addEventListener("load",e.picturefill,!1)):e.attachEvent&&e.attachEvent("onload",e.picturefill)}(this);